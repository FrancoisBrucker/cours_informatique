<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Corrigé Test 1 : code</title>

    <link href=/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css rel="stylesheet">
    <link href=/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css rel="stylesheet">

    <link href=/cours_informatique/assets/stylesheets/main.css rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" 
  src=/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1  class="mb-1">Corrigé Test 1 : code</h1>
  <div class="mb-4">
    

    
      <div class=" px-4 flex items-center">
        
          <div class="font-bold">Auteur : </div>
        
        <ul class="flex not-prose list-none my-0 last:after:content-['•'] last:after:px-1 mx-0 px-1">
          
            <li class="before:content-['•'] before:px-1">François Brucker</li>
          
        </ul>
      </div>
    
  </div>

  

  

  <h2>Barème</h2>
<p>Une note sur 5 répartie comme suit :</p>
<ol>
<li>sur 1 point (.5 pour le code et .5 pour les tests)</li>
<li>sur 1 point (.5 pour le code et .5 pour les tests)</li>
<li>sur 1 point (.5 pour le code et .5 pour les tests)</li>
<li>sur 1 point (.5 pour le code et .5 pour les tests)</li>
<li>sur 1 point</li>
</ol>
<p>La note sur 20 finale est obtenue en multipliant la note sur 5 par 3.33</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>Objectif du test</strong></p>
</div><div class="pl-8 mr-8">
<p>En 15minutes :</p>
<ul>
<li><strong>un élève <em>normal</em></strong> doit parvenir à faire parfaitement les 2 premières questions. Ce qui lui permet d'avoir 2/5, soit 12/20</li>
<li><strong>un bon élève</strong> doit parvenir à réussir les 3 premières questions. Ce qui lui permet d'avoir 3/5 et donc 18/20</li>
<li><strong>les très bons élèves</strong> font plus que les 3 première questions.</li>
</ul>
</div>
</div>
<p>La ventilation des notes est :</p>
<table>
<thead>
<tr>
<th>note/5</th>
<th>0</th>
<th>0.5</th>
<th>1</th>
<th>1.25</th>
<th>1.5</th>
<th>1.75</th>
<th>2</th>
<th>2.25</th>
<th>2.5</th>
<th>2.75</th>
<th>3</th>
<th>3.5</th>
<th>4</th>
<th>5</th>
</tr>
<tr>
<th>note/20</th>
<th>0</th>
<th>3</th>
<th>6</th>
<th>7.5</th>
<th>9</th>
<th>10.5</th>
<th>12</th>
<th>13.5</th>
<th>15</th>
<th>16.5</th>
<th>18</th>
<th>21</th>
<th>24</th>
<th>30</th>
</tr>
</thead>
<tbody>
<tr>
<td>nombre</td>
<td>3</td>
<td>5</td>
<td>10</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>12</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>rang</td>
<td>41</td>
<td>36</td>
<td>26</td>
<td>25</td>
<td>24</td>
<td>23</td>
<td>11</td>
<td>10</td>
<td>9</td>
<td>8</td>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<ul>
<li>moyenne : 10.2/20 (1.7/5)</li>
<li>écart-type : 6.57/20 (1.09/5)</li>
<li>médiane : 12/20 (2/5)</li>
</ul>
<h2>Erreurs fréquemment rencontrées</h2>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8 mr-8">
<p>Beaucoup d'entres vous sont venus sans réelle préparation au test. Cela se ressent dans les notes (la moité des élèves ont moins de dix et un quart moins de six) !</p>
</div>
</div>
<p>Vous <strong>devez</strong> préparer chaque test pour obtenir une note correcte (12 ou plus). Le cours est en ligne, il y a des annales et les profs — très sympas — répondent à vos questions en direct ou par mail.</p>
<p>Outre le manque de préparation, j'ai vu beaucoup de code ou de tests qui ne s'exécutent manifestement pas. Votre code <strong>doit</strong> être exécutable sinon le correcteur peut penser que vous tentez de l'enfumer (ce qu'il n'aime pas du tout du tout) et ça le force à modifier votre code pour le faire fonctionner, en particulier pour lancer les tests (ce qui le rend irritable et moins enclin à être bienveillant).</p>
<p>Enfin, cela masque les fonctions ou les tests qui sont corrects !</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<p>Du code est fait pour être exécuté donc vous devez vous assurer que :</p>
<ul>
<li>le code rendu est exécutable</li>
<li>vos tests sont exécutables avec pytest (on peut tolérer un test qui rate si vous expliquez que vous n'avez pas eu le temps de corriger le bug)</li>
</ul>
<p>Pour cela, vous <strong>devez</strong> lancer régulièrement vos tests <strong>pendant</strong> le test.</p>
</div>
</div>
<p>Ci-après quelques remarques plus ponctuelles</p>
<h3>Trop lent</h3>
<p>Vous prenez globalement  bien trop de temps à écrire des algorithmes simples. La première question est une application directe du S1 et la seconde ne devrait pas vous prendre plus de 5min. Presque tout le monde aurait du arriver à la question 3, ce qui est loin d'être le cas.</p>
<p>Pour vous améliorer en code, relisez le cours <a href="/cours_informatique/cours/coder-en-python">coder en python</a> qui vous donnent toutes les bases nécessaire pour... coder en python.</p>
<p>Enfin, les tests à effectuer vous étaient donnés dans l'énoncé sous la forme d'exemples, il vous suffisait de les reprendre en utilisant le formalisme vu lors du <a href="/cours_informatique/cours/algorithme-code-th%C3%A9orie/code/projet-pourcentage">projet pourcentage</a>.</p>
<h3>Format des tests</h3>
<p>Les tests <strong>doivent</strong> être fait comme dans le <a href="/cours_informatique/cours/algorithme-code-th%C3%A9orie/code/projet-pourcentage">projet pourcentage</a> ! Il faut donc :</p>
<ul>
<li>un fichier de test séparé du code et un fichier de test par fichier de code. Le nom de ce fichier doit s'appeler <code class="fichier">test_[nom du fichier de code à tester].py</code></li>
<li>pourvoir l'exécuter avec <code>python -m pytest</code> dans un terminal (utilisez le nom de l'interpréteur python que vous avez, cf <a href="/cours_informatique/tutoriels/vsc-python#quel-python">ce tutoriel</a>)</li>
</ul>
<p>En particulier :</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8 mr-8">
<ul>
<li>afficher un résultat à l'écran avec la commande <code class="language-">print</code> n'est <strong>pas</strong> un test</li>
<li>faire un assert sans fonction de test n'est <strong>pas</strong> un test</li>
<li>une fonction de test n'a <strong>pas</strong> de paramètres.</li>
</ul>
</div>
</div>
<p>Chaque test <strong>doit</strong> commencer par <code class="language-">test_</code> suivi du nom de la fonction à tester. S'il y a plusieurs tests pour une même fonction, on ajoute ce que le test teste :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> test_<span class="token punctuation">[</span>nom de la fonction à tester<span class="token punctuation">]</span>_<span class="token punctuation">[</span>ce que ça teste<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
</code></pre>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
</svg>
<div class="pl-8 mr-8">
<p>Ici, différentier les 2 tests proposés par fonction n'était pas évident. Regrouper les 2 tests en une seule fonction comme je le fais dans le corrigé était légitime.</p>
</div>
</div>
<h3>misc</h3>
<p>Quelques remarques sur des erreurs ou lourdeurs que j'ai vu chez certains. Essayez d'y faire attention pour vos prochains codes et rendus.</p>
<h4>Nom des fichiers</h4>
<p>Il vous faut a priori 2 fichiers :</p>
<ul>
<li>un pour le code, que vous pouvez appeler <code class="fichier">pendu.py</code>, ou <code class="fichier">code.py</code></li>
<li>un pour tester le code qui s'appelle comme le nom du fichier de code précédé de <code class="fichier">test_</code>. Donc <code class="fichier">test_pendu.py</code> ou <code class="fichier">test_code.py</code> selon le nom de votre fichier de code.</li>
</ul>
<h4>Description d'une fonction</h4>
<p>La description d'une fonction (entre <code class="language-">&quot;&quot;&quot;</code>) est inutile. Le code <strong>doit</strong> se suffire à lui-même pour être lisible et compris. Si ce n'est pas le cas, c'est que vous avez mal codé !</p>
<p>La description de chaque fonction n'est utile que si vous faire une bibliothèque (une suite de fonctions qui devront être utilisées par d'autres sans qu'ils aient à connaître leurs codes). Ici, vous faite du code qui sera  exécuté ou utilisé par vous et les autres membres de l'équipe de développement (ou le correcteur, ici moi) : la description ou les commentaires <strong>doivent</strong> être inutiles : faites du code lisible.</p>
<h4>Listes</h4>
<p>On préférera toujours utiliser <code class="language-">L.append(i)</code> plutôt que <code class="language-">L = L + [i]</code> car <code>append</code> est une méthode en $\mathcal{O}(1)$ opérations alors <code>+</code> crée une nouvelle liste et est donc en $\mathcal{O}(n)$ où $n$ est la taille de la liste <code class="language-">L</code>.</p>
<h4>Comparaison de booléens</h4>
<p>On ne teste pas si un booléen est vrai ou faux, on utilise directement sa valeur.</p>
<ul>
<li>On écrit : <code class="language-">assert est_une_lettre(&quot;i&quot;, &quot;victoire&quot;)</code></li>
<li><s>On écrit pas <code class="language-">assert est_une_lettre(&quot;i&quot;, &quot;victoire&quot;) == True</code></s></li>
</ul>
<p>En effet,  les deux formes sont équivalentes  puisque une comparaison avec <code>==</code> rend <code>True</code> ou <code>False</code> mais la seconde est plus compacte et moins redondante.</p>
<p>De même (vu souvent), à la place d'écrire :</p>
<pre><code>Si f() == Vrai alors:
    return Vrai
sinon:
    return Faux
</code></pre>
<p>écrivez :</p>
<pre><code>return f()
</code></pre>
<h4>Import</h4>
<p>Deux fautes de style reviennent assez souvent :</p>
<ul>
<li><code class="language-">from truc import *</code></li>
<li><code class="language-">import contrôle as ctr</code></li>
</ul>
<p>Ne faites aucune des deux, c'est <a href="https://www.youtube.com/watch?v=2dRIHt2SJHE">Bad Karma</a> (et c'est très très mal !) : ça vous sautera à la figure tôt ou tard.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>Pourquoi c'est mal</strong></p>
</div><div class="pl-8 mr-8">
<ul>
<li><code class="language-">from truc import *</code> : <strong>on ne sais pas ce que l'on importe</strong>. Le traçage des fonctions n'est pas clair et tôt ou tard ça va vous sauter à la figure en important des choses que vous ne voulez pas importer</li>
<li><code class="language-">import contrôle as ctr</code>. Je ne vois pas l'avantage de cette chose. Vous vous tirez au moins 3 fois une balle dans le pied :
<ol>
<li><strong>Ce n'est pas plus court</strong>. Car, pourquoi ne pas avoir appelé le fichier <code fichier="">contrôle.py</code> <code class="fichier">ctr.py</code> dans ce cas ? On aurait eu moins de chose à écrire (juste <code language-="">import ctr</code>, donc 12 caractères de moins !). Ou fait <code>import contrôle as c</code> ? C'est <strong>encore</strong> plus court... On gagne carrément 2 caractères à chaque utilisation du module ! De quoi finir à 12h14 à la place de 12h15 (royal !).</li>
<li><strong>c'est moins lisible</strong>. Vous devez pouvoir lire votre code sans avoir besoin de réfléchir aux significations des variables. Votre esprit doit être concentré sur la compréhension de l'algorithmie. Vous gagnez 10 microsecondes à l'écriture et vous perdez 2 secondes à chaque lecture pour vous rappeler la signification de <code class="language-">ctr</code>.</li>
<li><strong>vous empêchez votre éditeur de vous aider</strong> avec la complétion automatique.</li>
</ol>
</li>
</ul>
</div>
</div>
<h4>Variable différent d'une chaîne de caractère</h4>
<p>Je ne l'ai vu qu'une fois mais je préfère prévenir. Ne confondez pas <code class="language-">x</code> la variable ou le paramètre d'une fonction avec <code class="language-">'x'</code> une chaîne de caractères contenant le caractère x.</p>
<h2>1. fonction <code class="language-">est_une_lettre(lettre, mot)</code></h2>
<h3>tests de <code class="language-">est_une_lettre(lettre, mot)</code></h3>
<p>Commençons par les tests. Ils vous étaient donnés dans l'énoncé. Il suffisait de les écrire. Par exemple :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_est_une_lettre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> est_une_lettre<span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">,</span> <span class="token string">"victoire"</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token keyword">not</span> est_une_lettre<span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"la disparition"</span><span class="token punctuation">)</span>
</code></pre>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
</svg>
<div class="pl-8 mr-8">
<p>Pas besoin d'écrire <code class="language-">assert est_une_lettre(&quot;i&quot;, &quot;victoire&quot;) == True</code>, c'est équivalent à <code class="language-">assert est_une_lettre(&quot;i&quot;, &quot;victoire&quot;)</code>.</p>
</div>
</div>
<h3>fonction <code class="language-">est_une_lettre(lettre, mot)</code></h3>
<p>Plusieurs possibilités. Commençons par la plus simple, que <strong>tout le monde</strong> devrait arriver à faire, c'est une retranscription directe d'un algorithme du cours :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">est_une_lettre</span><span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> c <span class="token keyword">in</span> mot<span class="token punctuation">:</span>
        <span class="token keyword">if</span> lettre <span class="token operator">==</span> c<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre>
<p>On pouvait aussi utiliser le mot clé <code class="language-">in</code> de python (supposé connu de tous), pour une solution écrite en 30 secondes chrono :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">est_une_lettre</span><span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> lettre <span class="token keyword">in</span> mot<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre>
<p>Notez que la version précédente est identique à la version ci-dessous, bien plus élégante :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">est_une_lettre</span><span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> lettre <span class="token keyword">in</span> mot
</code></pre>
<h2>2. fonction <code class="language-">caractères(lettre, mot)</code></h2>
<h3>tests de <code class="language-">caractères(lettre, mot)</code></h3>
<p>Encore une fois les tests étaient donnés. Il suffisait de les re-écrire :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> test_caractères<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">==</span> caractères<span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">,</span> <span class="token string">"victoire"</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> caractères<span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"la disparition"</span><span class="token punctuation">)</span>
</code></pre>
<h3>fonction <code class="language-">caractères(lettre, mot)</code></h3>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> caractères<span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>mot<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> mot<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> lettre<span class="token punctuation">:</span>
            position<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>

    <span class="token keyword">return</span> position
</code></pre>
<p>On utilise ici la fonction <code class="language-">range</code> pour itérer sur les indices du tableau plutôt que sur ses valeurs.</p>
<p>Encore une fois, <strong>tout le monde</strong> devrait arriver à faire cette fonction d'une seule traite, sans réfléchir.</p>
<h2>3. fonction <code class="language-">découvre(mot_caché, lettre, positions)</code></h2>
<h3>tests de <code class="language-">découvre(mot_caché, lettre, positions)</code></h3>
<p>Comme d'habitude, les tests étaient donnés dans l'énoncé :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> test_découvre<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token string">".rr..r"</span> <span class="token operator">==</span> découvre<span class="token punctuation">(</span><span class="token string">"......"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token string">"erreur"</span> <span class="token operator">==</span> découvre<span class="token punctuation">(</span><span class="token string">"erre.r"</span><span class="token punctuation">,</span> <span class="token string">"u"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token string">"erre.r"</span> <span class="token operator">==</span> découvre<span class="token punctuation">(</span><span class="token string">"erre.r"</span><span class="token punctuation">,</span> <span class="token string">"u"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre>
<h3>fonction <code class="language-">découvre(mot_caché, lettre, positions)</code></h3>
<p>La fonction que j'attendais est :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> découvre<span class="token punctuation">(</span>mot_caché<span class="token punctuation">,</span> lettre<span class="token punctuation">,</span> positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mot <span class="token operator">=</span> <span class="token string">""</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>mot_caché<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token keyword">in</span> positions<span class="token punctuation">:</span>
            mot <span class="token operator">+=</span> lettre
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            mot <span class="token operator">+=</span> mot_caché<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

    <span class="token keyword">return</span> mot
</code></pre>
<p>Sa complexité est en $\mathcal{O}(n\cdot m)$ avec $n$ et $m$ les longueurs de la chaîne <code class="language-">mot_caché</code> et de la liste <code class="language-">positions</code> respectivement (pourquoi ?).</p>
<p>En utilisant les caractéristiques de la liste <code class="language-">positions</code> trié par ordre croissant, on aurait pu forger la fonction ci-dessous de complexité $\mathcal{O}(n)$ (pourquoi est-ce que ça marche ?):</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> découvre<span class="token punctuation">(</span>mot_caché<span class="token punctuation">,</span> lettre<span class="token punctuation">,</span> positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mot <span class="token operator">=</span> <span class="token string">""</span>

    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>positions<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> mot_caché

    pos <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>mot_caché<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> positions<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">:</span>
            mot <span class="token operator">+=</span> lettre
            pos <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>positions<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            mot <span class="token operator">+=</span> mot_caché<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

    <span class="token keyword">return</span> mot

</code></pre>
<h2>4. fonction <code class="language-">caché(mot)</code></h2>
<p>Comme toujours, les tests vous étaient donnés dans l'énoncé :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> test_caché<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token string">""</span> <span class="token operator">==</span> caché<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token string">"........................."</span> <span class="token operator">==</span> caché<span class="token punctuation">(</span><span class="token string">"anticonstitutionnellement"</span><span class="token punctuation">)</span>
</code></pre>
<p>En utilisant la multiplications des chaînes de caractères, la fonction est triviale :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> caché<span class="token punctuation">(</span>mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"."</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>mot<span class="token punctuation">)</span>
</code></pre>
<h2>5. programme principal</h2>
<p>Une proposition de programme principal :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python">    mot_à_trouver <span class="token operator">=</span> <span class="token string">"table"</span>
    mot_caché <span class="token operator">=</span> caché<span class="token punctuation">(</span>mot_à_trouver<span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"mot à trouver :"</span><span class="token punctuation">,</span> mot_caché<span class="token punctuation">)</span>
    nombre_essai <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">while</span> est_une_lettre<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">,</span> mot_caché<span class="token punctuation">)</span><span class="token punctuation">:</span>
        lettre <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Donnez une lettre : "</span><span class="token punctuation">)</span>
        mot_caché <span class="token operator">=</span> découvre<span class="token punctuation">(</span>mot_caché<span class="token punctuation">,</span> lettre<span class="token punctuation">,</span> caractères<span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot_à_trouver<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"mot à trouver :"</span><span class="token punctuation">,</span> mot_caché<span class="token punctuation">)</span>

        nombre_essai <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Victoire !, vous avez gagné en"</span><span class="token punctuation">,</span> nombre_essai<span class="token punctuation">,</span> <span class="token string">"essais."</span><span class="token punctuation">)</span>
</code></pre>
<h2>Fichiers finaux</h2>
<h3><code class="fichier">pendu.py</code></h3>
<pre class="language-python line-numbers" style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">est_une_lettre</span><span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> lettre <span class="token keyword">in</span> mot


<span class="token keyword">def</span> caractères<span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>mot<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> mot<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> lettre<span class="token punctuation">:</span>
            position<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>

    <span class="token keyword">return</span> position


<span class="token keyword">def</span> découvre<span class="token punctuation">(</span>mot_caché<span class="token punctuation">,</span> lettre<span class="token punctuation">,</span> positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mot <span class="token operator">=</span> <span class="token string">""</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>mot_caché<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token keyword">in</span> positions<span class="token punctuation">:</span>
            mot <span class="token operator">+=</span> lettre
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            mot <span class="token operator">+=</span> mot_caché<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

    <span class="token keyword">return</span> mot


<span class="token keyword">def</span> caché<span class="token punctuation">(</span>mot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"."</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>mot<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><code class="fichier">test_pendu.py</code></h3>
<pre class="language-python line-numbers" style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> pendu <span class="token keyword">import</span> est_une_lettre<span class="token punctuation">,</span> caractères<span class="token punctuation">,</span> découvre<span class="token punctuation">,</span> caché


<span class="token keyword">def</span> <span class="token function">test_est_une_lettre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> est_une_lettre<span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">,</span> <span class="token string">"victoire"</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token keyword">not</span> est_une_lettre<span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"la disparition"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> test_caractères<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">==</span> caractères<span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">,</span> <span class="token string">"victoire"</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> caractères<span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"la disparition"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> test_découvre<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token string">".rr..r"</span> <span class="token operator">==</span> découvre<span class="token punctuation">(</span><span class="token string">"......"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token string">"erreur"</span> <span class="token operator">==</span> découvre<span class="token punctuation">(</span><span class="token string">"erre.r"</span><span class="token punctuation">,</span> <span class="token string">"u"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token string">"erre.r"</span> <span class="token operator">==</span> découvre<span class="token punctuation">(</span><span class="token string">"erre.r"</span><span class="token punctuation">,</span> <span class="token string">"u"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> test_caché<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token string">""</span> <span class="token operator">==</span> caché<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token string">"........................."</span> <span class="token operator">==</span> caché<span class="token punctuation">(</span><span class="token string">"anticonstitutionnellement"</span><span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><code class="fichier">main.py</code></h3>
<pre class="language-python line-numbers" style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> pendu <span class="token keyword">import</span> caché<span class="token punctuation">,</span> est_une_lettre<span class="token punctuation">,</span> découvre<span class="token punctuation">,</span> caractères


mot_à_trouver <span class="token operator">=</span> <span class="token string">"table"</span>
mot_caché <span class="token operator">=</span> caché<span class="token punctuation">(</span>mot_à_trouver<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"mot à trouver :"</span><span class="token punctuation">,</span> mot_caché<span class="token punctuation">)</span>
nombre_essai <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">while</span> est_une_lettre<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">,</span> mot_caché<span class="token punctuation">)</span><span class="token punctuation">:</span>
    lettre <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Donnez une lettre : "</span><span class="token punctuation">)</span>
    mot_caché <span class="token operator">=</span> découvre<span class="token punctuation">(</span>mot_caché<span class="token punctuation">,</span> lettre<span class="token punctuation">,</span> caractères<span class="token punctuation">(</span>lettre<span class="token punctuation">,</span> mot_à_trouver<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"mot à trouver :"</span><span class="token punctuation">,</span> mot_caché<span class="token punctuation">)</span>

    nombre_essai <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Victoire !, vous avez gagné en"</span><span class="token punctuation">,</span> nombre_essai<span class="token punctuation">,</span> <span class="token string">"essais."</span><span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique à l'école centrale Marseille
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>