<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>corrigé Test 3 : complexité</title>

    

    <link href="https://prismjs.catppuccin.com/latte.css" rel="stylesheet">

    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>corrigé Test 3 : complexité</h1>
  <div>
    

    
  </div>

  

  <h2>Barème</h2>
<p>Une note sur 7 répartie comme suit :</p>
<ul>
<li>1pt pour la question 1.1</li>
<li>1pt pour la question 1.2</li>
<li>2pt pour la question 1.3</li>
<li>0.25pt pour la question 2.1</li>
<li>0.75pt pour la question 2.2</li>
<li>0.75pt pour la question 2.3</li>
<li>0.25pt pour la question 2.4</li>
<li>.5pt pour la question 3.1</li>
<li>.5pt pour la question 3.2</li>
</ul>
<p>La note sur $20$ finale est obtenue en multipliant la note sur 7 par $4$.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Objectif du test</strong></p>
</div><div class="pl-8 mr-8">
<p>En 15 minutes :</p>
<ul>
<li><strong>un élève <em>normal</em></strong> doit parvenir à faire la première question correctement (ce qui garantit le 12/20)</li>
<li><strong>un bon élève</strong> doit parvenir à réussir à faire la première question parfaitement</li>
<li><strong>un très bon élève</strong> à avancé dans la question 2.</li>
</ul>
</div></div>

<p>La question la plus importante était la 1.3. On pouvait s'en passer mais du coup il fallait faire presque tout le reste du test. J'ai noté un petit relâchement sur les notes. Soit vous avez moins préparé le test soit vous avez moins compris cette partie du cours. Dans les 2 cas, il faut plus réviser votre cours.</p>
<p>La question 1 était une application directe du problème de l'exponentiation : les questions 1.1 et 1.2 auraient du être cadeau (et c'est loin d'être le cas...). Enfin, la question 1.3 a fait peur à tout le monde alors que le fonctionnement de l'algorithme est identique à celui de l'exponentiation rapide : vous auriez du tenter de le prouver. Il n'était pas nécessaire de trouver exactement l'invariant de boucle, on pouvait s'en sortir avec une récurrence bien sentie.</p>
<p>La ventilation des notes est :</p>
<table>
<thead>
<tr>
<th>note/20</th>
<th>≤8</th>
<th>]8, 10[</th>
<th>[10, 12[</th>
<th>[12, 14]</th>
<th>]14, 16]</th>
<th>= 20</th>
</tr>
</thead>
<tbody>
<tr>
<td>nombre</td>
<td>10</td>
<td>6</td>
<td>12</td>
<td>9</td>
<td>5</td>
<td>1</td>
</tr>
<tr>
<td>rang min</td>
<td>43</td>
<td>33</td>
<td>27</td>
<td>11</td>
<td>6</td>
<td>1</td>
</tr>
</tbody>
</table>
<ul>
<li>moyenne : 10.64/20</li>
<li>écart-type : 3.15/20</li>
<li>médiane : 10.80/20</li>
</ul>
<h2>Erreurs fréquemment rencontrées</h2>
<ul>
<li>algorithme = finitude ; correction pas obligé</li>
<li>complexité : on passe toujours dans le /2</li>
<li>attention aux bornes du 2.3</li>
</ul>
<h2>Corrigé</h2>
<h3>1 un algorithme de multiplication</h3>
<p>On suppose que les entiers sont positifs.</p>
<p>Cet algorithme doit vous rappeler très fortement l'algorithme de l'exponentiation rapide. Il est basé sur le même principe et tout ce qu'on a fait pour l'un (complexité et preuve) marche pour l'autre.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p>L'algorithme est connu sous le nom de <a href="https://fr.wikipedia.org/wiki/Technique_de_multiplication_dite_russe">multiplication russe, ou encore multiplication du paysan russe</a>.</p>
</div></div>

<h4>1.1</h4>
<p>Le programme <code class="language-">mul</code> est un algorithme car la variable <code class="language-">x</code> décroît strictement à chaque itération en restant positive (donc elle vaudra 0 à un moment).</p>
<h4>1.2</h4>
<p>Á chaque étape on divise la variable <code class="language-">x</code> par 2. L'argument est alors le même que pour la factorisation rapide : il y a au plus $\log_2(x)$ itérations de l'algorithme. Comme toutes les autres opérations sont en $\mathcal{O}(1)$, on en déduit que la complexité totale de l'algorithme est en $\mathcal{O}(\ln(x))$.</p>
<h4>1.3</h4>
<p>Pour démontrez que <code class="language-">mul(x, y) = x * y</code> on utilise l'invariant : <code class="language-">X * Y = r + x * y</code> avec <code class="language-">X</code> et <code class="language-">Y</code> les paramètres initiaux.</p>
<p>C'est invariant est quasiment le même que celui de l'exponentiation indienne. On vérifie aisément qu'il fonctionne.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>La variable <code class="language-">x</code> est <strong>toujours</strong> divisée par 2 : c'est ce qui fait la différence avec l'exponentiation indienne.</p>
</div></div>

<h3>2 représentation binaire des nombres</h3>
<h4>2.1</h4>
<p>L'entier $n$ est pair si et seulement si $T_n[0] = 0$</p>
<h4>2.2</h4>
<h5>2.2.1</h5>
<p>Une unique boucle de $\mathcal{O}(T.\mbox{\tiny longueur})$ et le reste des lignes est en $\mathcal{O}(1)$ : l'algorithme est de complexité $\mathcal{O}(T.\mbox{\tiny longueur})$.</p>
<h5>2.2.2</h5>
<p>Si $n = \sum_{0\leq i &lt; T.\mbox{\tiny longueur}}2^i\cdot T[i]$, alors $2n \sum_{1\leq i \leq T.\mbox{\tiny longueur}}2^i\cdot T[i-1]$ ce qui correspond à ce que fait l'algorithme.</p>
<p>Le fait que $T[i-1] = 0$ permet de dire que le tableau représentant $2n$ peut avoir la même taille que $T$.</p>
<h5>2.3</h5>
<pre class="language-pseudocode" tabindex="0" data-language="pseudocode"><code class="language-pseudocode"><span class="token builtin">algorithme</span> <span class="token function">div2</span><span class="token punctuation">(</span>T<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">bit</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pour chaque</span><span class="token number"> i </span>de <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> T<span class="token punctuation">.</span>longueur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">[</span><span class="token punctuation">:</span>
        T<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">←</span> T<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
    T<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">←</span> <span class="token number">0</span></code></pre>
<p>Le raisonnement est identique que pour  prouver <code class="language-">mul2(T: [bit])</code> :</p>
<p>Si $n = \sum_{0\leq i &lt; T.\mbox{\tiny longueur}}2^i\cdot T[i]$, alors $n/2 = \sum_{0 \leq i &lt; T.\mbox{\tiny longueur} - 1}2^i\cdot T[i+1]$ ce qui correspond à ce que fait l'algorithme.</p>
<p>Le fait que $T[0] = 0$ permet d'assurer le fait que l'entier représenté par $T$ soit pair et donc divisible par 2.</p>
<h4>2.4</h4>
<p>La taille doit être égale à $T_x.\mbox{\tiny longueur} + T_y.\mbox{\tiny longueur}$.</p>
<h3>3 adaptation de l'algorithme</h3>
<h4>3.1</h4>
<p>On suppose que l'on a une méthode <code class="language-">add(Tx, Ty)</code> qui fait l'addition <code class="language-">x+y</code> et la réaffecte dans le tableau <code class="language-">Tx</code>. Sa complexité est en $\mathcal{O}(Tx.\mbox{\tiny longueur})$</p>
<pre class="language-pseudocode" tabindex="0" data-language="pseudocode"><code class="language-pseudocode"><span class="token builtin">algorithme</span> <span class="token function">mul</span><span class="token punctuation">(</span>Tx<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">bit</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Ty<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">bit</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">→</span> <span class="token punctuation">[</span><span class="token builtin">bit</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    Ty' <span class="token operator">←</span> un tableau de taille Tx<span class="token punctuation">.</span>longueur <span class="token operator">+</span> Ty<span class="token punctuation">.</span>longueur
    R <span class="token operator">←</span> un tableau de taille  Tx<span class="token punctuation">.</span>longueur <span class="token operator">+</span> Ty<span class="token punctuation">.</span>longueur

    Ty'<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">←</span> <span class="token number">0</span> <span class="token keyword">si</span><span class="token number"> i </span><span class="token operator">></span> Ty<span class="token punctuation">.</span>longueur

    <span class="token keyword">pour chaque</span><span class="token number"> i </span>dans <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> Tx<span class="token punctuation">.</span>longueur <span class="token operator">+</span> Ty<span class="token punctuation">.</span>longueur<span class="token punctuation">[</span><span class="token punctuation">:</span>
        R<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">←</span> <span class="token number">0</span>
        <span class="token keyword">si</span><span class="token number"> i </span><span class="token operator">&lt;</span>Ty<span class="token punctuation">.</span>longueur<span class="token punctuation">:</span>
            Ty'<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">←</span> Ty<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">sinon</span><span class="token punctuation">:</span>
            Ty'<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">←</span> <span class="token number">0</span>

    <span class="token keyword">pour chaque</span><span class="token number"> i </span>dans <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> Tx<span class="token punctuation">.</span>longueur<span class="token punctuation">[</span><span class="token punctuation">:</span>
        <span class="token keyword">si</span> Tx<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            add<span class="token punctuation">(</span>R<span class="token punctuation">,</span> T'y<span class="token punctuation">)</span>
        mul2<span class="token punctuation">(</span>T'y<span class="token punctuation">)</span>
    
    <span class="token keyword">rendre</span> R</code></pre>
<h4>3.2</h4>
<p>La complexité est en $\mathcal{O}(Tx.\mbox{\tiny longueur} \cdot Ty.\mbox{\tiny longueur})$.</p>
<!--

### 4 Pour aller plus loin un autre algorithme

> TBD add en log n
> TBD soustraction et division : <https://leria-info.univ-angers.fr/~jeanmichel.richer/ensl1i_base_de_l_info_1_sub_div.php>
> TBD mul plus long c;est pour ça qu'on considère plus gros.
> TBD si taille fixe ok.
>
> TBD avons nous eu raison de choisir 1 et 1 pour mul et 1

### 5 Pour aller plus loin un autre algorithme

> TBD Kolmogorov et Karatsuba.
>
> TBD pour aller plus loin et en faire un long exo
> TBD <https://en.wikipedia.org/wiki/Karatsuba_algorithm>
>
> TBD pour ne pas conclure on ne sais pas jusqu'ou on peut aller. 

-->


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>