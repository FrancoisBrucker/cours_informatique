<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Héritage</title>

    <link href="/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.css" rel="stylesheet">
    
    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1 class="mb-1">Héritage</h1>
  <div class="mb-4">
    

    
      <div class=" px-4 flex items-center">
        
          <div class="font-bold">Auteurs : </div>
        
        <ul class="flex not-prose list-none my-0 last:after:content-['•'] last:after:px-1 mx-0 px-1">
          
            <li class="before:content-['•'] before:px-1">François Brucker</li>
          
            <li class="before:content-['•'] before:px-1">Valentin Emiya</li>
          
        </ul>
      </div>
    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/coder-et-développer/">Coder et développer</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/coder-et-développer/programmation-objet/">Programmation Objet</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/coder-et-développer/programmation-objet/héritage/">Héritage</a>

</div></div>



    
  

  <p>Le mécanisme d'héritage permet d'organiser les classes entre elles et de réutiliser certaines parties du code sans les réécrire: le code est factorisé. Il faut considérer qu'une classe fille désigne des objets plus <em>spécifiques</em> que ceux de la classe mère. Quelques exemples qui seront dévelopés par la suite:</p>
<ul>
<li>dans un contexte de base de données pour gérer une université, on peut envisager
<ul>
<li>une classe mère <code class="language-">Personne</code> comprenant les attributs prénom, nom, date de naissance et une méthode permettant de calculer l'age.</li>
<li>des classe filles <code class="language-">Étudiant</code> et <code class="language-">EnseignantChercheur</code> ayant des attributs spécifiques: numéro d'étudiant pour les uns, laboratoire de rattachement pour les autres.</li>
</ul>
</li>
<li>dans un contexte mathématique, un polygone est une notion générale avec des cas particuliers: triangle, quadrilatère, pentagone, etc. On peut donc concevoir
<ul>
<li>une classe mère <code class="language-">Polygone</code> composée d'une liste de sommets et de méthodes pour calculer le périmètre, l'aire, etc.</li>
<li>des classes filles <code class="language-">Triangle</code>, <code class="language-">Quadrilatère</code>, <code class="language-">Pentagone</code>, etc. La classe <code class="language-">Triangle</code> est plus spécifique, et dispose à ce titre de méthodes spécifiques, supplémentaires, qui calculent l'orthocentre, tracent le cercle circonscrit et le cercle inscrit, détermine si le triangle est rectangle, isocèle, équilatéral, etc.</li>
</ul>
</li>
<li>dans un contexte de jeu, un personnage est une notion générique qui se décline en plusieurs catégories spécifiques: magicien, guerrière, gobelin, etc.:
<ul>
<li>la classe mère <code class="language-">Personnage</code> définit des points de vie, un score d'attaque, etc.</li>
<li>les classes filles <code class="language-">Magicien</code>, <code class="language-">Guerrière</code>, <code class="language-">Gobelin</code> y ajoutent des comportements spécifiques à chaque catégorie (sorts, défense, etc.</li>
</ul>
</li>
</ul>
<h2>Utilisation de l'héritage</h2>
<p>L'héritage permet d'utiliser les attributs et méthodes créées dans les classes mères de façon simple :</p>
<ol>
<li>soit en cherchant dans la hiérarchie des classes l'attribut ou la méthode appelé depuis une classe fille</li>
<li>soit en appelant directement un attribut ou une méthode de la classe mère.</li>
</ol>
<p>L'héritage permet de factoriser du code entre classes similaires :</p>
<ul>
<li>lorsque l'on veut rendre plus spécifique une classe : la nouvelle classe est un cas particulier de la classe mère</li>
<li>lors de l'utilisation de bibliothèques : on particularise à nos besoins une classe générique donnée par un module que l'on n'a pas écrit.</li>
</ul>
<p>La règle est que lorsque l'héritage doit ré-écrire toutes les méthodes de sa classe mère pour qu'il n'y ait pas de conflit, alors il faut changer d'approche. Une classe et sa classe mère doivent partager beaucoup de méthodes (ou que les méthodes soient des cas particuliers).</p>
<h2>Exemple 1 : personnel de l'université</h2>
<p>Ce premier exemple va nous permettre de comprendre le mécanisme mis en œuvre dans l'héritage.</p>
<p>Le diagramme UML représentant sa description dans l'introduction est celle-ci :</p>
<p><img src="personnel_universit%C3%A9_UML.png" alt="personnel de l'université"></p>
<p>Les relations d'héritages sont explicités par une flèche spéciale :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>La flèche qui montre la relation d'héritage est :
<img src="fl%C3%A8che_h%C3%A9ritage.png" alt="flèche héritage"></p>
</div></div>

<p>Toutes les classes filles  <em><strong>héritent</strong></em> des propriétés (attributs et méthodes des parents) en supposant le code des classes écrites dans le fichier <code class="fichier">personnel.py</code> on peut alors très bien écrire le code suivant bien que la méthode <code class="language-">donne_age</code> ne soit pas définie dans la classe <code class="language-">EnseignantChercheur</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> date
<span class="token keyword">from</span> personnel <span class="token keyword">import</span> EnseignantChercheur


prof_info <span class="token operator">=</span> EnseignantChercheur<span class="token punctuation">(</span><span class="token string">"Turing"</span><span class="token punctuation">,</span> <span class="token string">"Alan"</span><span class="token punctuation">,</span> <span class="token string">"Mathématiques de Cambridge"</span><span class="token punctuation">,</span> date<span class="token punctuation">(</span><span class="token number">1936</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>prof_info<span class="token punctuation">.</span>donne_age<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre>
<p>Le principe même de l'héritage est de pouvoir facilement utiliser dans des classes filles des éléments définies dans les classes mères.</p>
<h3>Code de la classe mère</h3>
<p>Ce code est classique :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span>  datetime <span class="token keyword">import</span> date


<span class="token keyword">class</span> <span class="token class-name">Personne</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>prénom <span class="token operator">=</span> prénom
        self<span class="token punctuation">.</span>date_naissance <span class="token operator">=</span> date_naissance

    <span class="token keyword">def</span> <span class="token function">donne_age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>date_naissance <span class="token operator">-</span> date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>days <span class="token operator">/</span> <span class="token number">365</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On a utilisé <a href="https://docs.python.org/fr/3/library/datetime.html#">le module <code class="language-">datetime</code> de python</a> qui est fait pour gérer les dates. Utilisez <strong>toujours</strong> des modules spécifique pour gérer les dates et ne cédez pas à la tentation d'utiliser des chaines de caractères par exemple, vous le payerez tôt ou tard car il y a trop de cas particuliers et de bizarrerie de formats de date (format Américain ? Français ? Chinois ?) pour faire attention à tous les cas soit-même.</p>
</div></div>

<h3>Classes filles</h3>
<p>Pour écrire le code des classes filles il faut pouvoir faire deux choses :</p>
<ol>
<li>expliciter le fait qu'une classe hérite de l'autre</li>
<li>utiliser le code de la classe mère dans une classe fille</li>
</ol>
<p>Voyons comment tout ça est fait en python (on ajoute les classes filles dans le fichier contenant la classe mère) :</p>
<pre class="language-python line-numbers" style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> Étudiant<span class="token punctuation">(</span>Personne<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">,</span> numéro_étudiant<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>numéro_étudiant <span class="token operator">=</span> numéro_étudiant


<span class="token keyword">class</span> <span class="token class-name">EnseignantChercheur</span><span class="token punctuation">(</span>Personne<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">,</span> laboratoire<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>laboratoire <span class="token operator">=</span> laboratoire

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3>Définir la classe mère</h3>
<p>On définit la classe mère d'une classe en faisant suivre le nom de la classe fille, lors de sa définition, par le nom de la classe mère entre parenthèses :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Fille</span><span class="token punctuation">(</span>Mère<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

</code></pre>
<h3>Appels de fonctions de la classe mère</h3>
<p>Utiliser une méthode de la classe mère dans la classe fille on utilise le mot clé <code class="language-">super()</code> suivi du nom de la méthode à utiliser. Dans l'exemple, le constructeur de la classe fille appelle le constructeur de la classe mère. Remarquez que l'on utilise la méthode <code class="language-">__init__</code> sans utiliser le premier paramètre (<code class="language-">self</code>) qui est implicitement l'objet courant.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p>Un petit tuto sur <a href="https://he-arc.github.io/livre-python/super/index.html">la fonction super</a></p>
</div></div>

<p>L'appel des fonctions de la classe mère est obligatoire en python. Si on omettait la ligne 3 dans le code de définition de la classe <code class="language-">Étudiant</code>, ces derniers n'auraient pas d'attributs <code class="language-">nom</code> <code class="language-">prénom</code>, ni <code class="language-">année_naissance</code> définis dans le constructeur de la classe mère, <code class="language-">Personne</code>.</p>
<h3>Appels de méthodes</h3>
<p>L'appel de méthodes se fait en &quot;remontant&quot; la hiérarchie jusqu'à trouver la méthode à exécuter. Lors de l'exécution de la ligne <code class="language-">print(prof_info.donne_age())</code>, celà se passe ainsi :</p>
<ol>
<li>l'interpréteur python regarde si le nom <code class="language-">donne_age</code> est défini dans l'objet de nom <code class="language-">prof_info</code> : ce n'est pas le cas</li>
<li>il remonte alors d'un étage dans la hiérarchie et regarde si le nom <code class="language-">donne_age</code> est présent dans la classe de <code class="language-">prof_info</code>, <code class="language-">EnseignantChercheur</code> : ce n'est toujours pas le cas</li>
<li>on peut encore remonter d'un cran et regarder la classe mère de <code class="language-">EnseignantChercheur</code>, <code class="language-">Personne</code>. Bingo : le nom <code class="language-">donne_age</code> est présent et il est exécuté.</li>
</ol>
<h2>Hiérarchie des classes</h2>
<p>Dans un langage objet, les classes sont organisées hiérarchiquement, la classe <em>racine</em> étant la classe la plus haute (ici elle s'appelle <code>object</code>).</p>
<p><img src="h%C3%A9ritage-classes.png" alt="classes héritage"></p>
<p>Dans la figure précédente :</p>
<ul>
<li>la classe <code>object</code> est la <em>racine</em> de la hiérarchie, c'est la classe la plus haute</li>
<li>la <code>classe 1</code> est la <em>classe mère</em> de la <code>classe 2</code></li>
<li>la <code>classe 2</code> est une <em>classe fille</em> de la <code>classe 1</code></li>
</ul>
<p>La figure montre également la désignation UML de l'héritage : une flèche avec un triangle vide.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>En python, toutes les classes héritent de la classe <code class="language-">object</code>. Par exemple <code class="language-">issubclass(list, object)</code> répond <code class="language-">True</code>.</p>
</div></div>

<p>Le fait que toutes les classes héritent d'<code class="language-">object</code> est très pratique puisque cela permet de créer des comportements par défaut à tous les objets : si une méthode existe dans la classe alors qu'on ne l'a pas définie explicitement, c'est qu'elle est définie dans la classe <code class="language-">object</code>. C'est le cas de la méthode <code class="language-">__str__</code> par exemple.</p>
<h3>Chercher dans la hiérarchie</h3>
<p>Supposons que j'ai un objet nommé <code class="language-">obj</code> de classe <code>classe 2</code> qui veut appeler la méthode 1 : <code class="language-">obj.méthode1()</code></p>
<ol>
<li><code class="language-">méthode1</code> est d'abord cherchée dans l'espace de nom de <code class="language-">obj</code> : elle n'y est pas.</li>
<li>elle est alors cherchée dans sa classe, <code>classe 2</code> : celle-ci ne définit pas <code class="language-">méthode1</code></li>
<li>elle est alors cherchée dans la classe mère de <code>classe 2</code>, <code>classe 1</code> : <code class="language-">méthode1</code> est définie, c'est son code qui est finalement utilisé.</li>
</ol>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Si l'on arrive jusqu'à la classe <code>object</code> et qu'elle ne contient pas le nom recherché une erreur est lancée.</p>
</div></div>

<h3>Appeler directement une sous/sur-classe</h3>
<p>Supposons que dans la définition de <code class="language-">méthode1</code> de la <code>classe 2'</code>, on particularise la méthode <code class="language-">méthode1</code> de la <code>classe 1</code>. On peut alors appeler la méthode <code class="language-">méthode1</code> de la <code>classe 1</code> dans la définition de la <code class="language-">méthode1</code> de la <code>classe 2'</code>.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Si l'on ne retrouve pas la méthode dans la classe mère, on remonte la hiérarchie. De là, tenter d'utiliser la méthode <code>méthode1</code>  de la <code>classe 1'</code> en définissant la  méthode <code>méthode1</code>  de la <code>classe 2''</code> va en fait exécuter la méthode  méthode <code>méthode1</code>  de la classe <code>object</code>.</p>
</div></div>

<h3>Connaître la hiérarchie</h3>
<p>En python, si l'on veut connaître l'ordre dans lequel les classes vont être examinées lors de la remontée de la hiérarchie, on peut utiliser la méthode <code class="language-">mro()</code>. Par exemple, dans un interpréteur :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">.</span>mro<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'str'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'object'</span><span class="token operator">></span><span class="token punctuation">]</span>
</code></pre>
<p>L'ordre dans lequel sont examinées les classes pour les chaines de caractères est donc : d'abord la classe <code class="language-">str</code> puis la classe <code class="language-">object</code></p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>La classe <code class="language-">object</code> est toujours le dernier élément de la liste.</p>
</div></div>

<p>Notez bien que la méthode <code class="language-">mro</code> est appliquée <strong>à la classe</strong> et nom à l'objet. Par exemple pour la classe <code class="language-">EnseignantChercheur</code> de l'exemple 1, on aurait :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> EnseignantChercheur<span class="token punctuation">.</span>mro<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.EnseignantChercheur'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Personne'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'object'</span><span class="token operator">></span><span class="token punctuation">]</span>
</code></pre>
<p>Alors qu'avec un objet :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> prof_info<span class="token punctuation">.</span>mro<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'EnseignantChercheur'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'mro'</span>
</code></pre>
<h2>Exemple 2 : héritage simple</h2>
<p>L'héritage est une technique objet qui n'est pas utilisée indépendamment du reste. On l'utilise souvent en combinaison d'autres techniques comme la composition.</p>
<p>On va ici manipuler des polygones. On veut pouvoir :</p>
<ul>
<li>créer un polygone à partir d'une liste de sommets donnée</li>
<li>calculer l'aire du polygone</li>
<li>calculer le périmètre du polygone</li>
</ul>
<h3>classes Point et Polygone</h3>
<p>Pour cela, on va créer une classe <code class="language-">Point</code> et une classe <code class="language-">Polygone</code> :</p>
<ul>
<li>classe <code class="language-">Point</code> :
<ul>
<li>on se restreint à la 2D</li>
<li>coordonnées cartésiennes</li>
<li>distance à un autre point pour pouvoir plus facilement calculer le périmètre ensuite</li>
</ul>
</li>
<li>classe <code class="language-">Polygone</code> :
<ul>
<li>création avec une liste de Point</li>
<li>calcul du périmètre</li>
<li>calcul de l'aire</li>
</ul>
</li>
</ul>
<p>On va supposer que le <a href="https://fr.wikipedia.org/wiki/Polygone_simple">polygone est simple</a> pour simplifier le calcul de l'aire...</p>
<h4>Uml</h4>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Comme un point n'est <strong>pas</strong> un cas particulier de polygone, ni réciproquement, ces deux classes ne peuvent pas avoir de lien d'héritage.</p>
</div></div>

<p>Point et polygone entretiennent un lien d'agrégation (les points sont passés au polygone à sa construction). Le modèle UML suivant :</p>
<p><img src="h%C3%A9ritage_point_poly.png" alt="point polygone"></p>
<h4>Code python</h4>
<p>On peut alors avoir le code python suivant pour créer les classes :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> math <span class="token keyword">import</span> sqrt


<span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y

    <span class="token keyword">def</span> <span class="token function">distance</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        x1 <span class="token operator">=</span> self<span class="token punctuation">.</span>x
        x2 <span class="token operator">=</span> other<span class="token punctuation">.</span>x

        y1 <span class="token operator">=</span> self<span class="token punctuation">.</span>y
        y2 <span class="token operator">=</span> other<span class="token punctuation">.</span>y

        <span class="token keyword">return</span> sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span>x2 <span class="token operator">-</span> x1<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y2 <span class="token operator">-</span> y1<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Polygone</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> points<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>points <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span>

    <span class="token keyword">def</span> périmètre<span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        d <span class="token operator">=</span> <span class="token number">0</span>
        pivot <span class="token operator">=</span> self<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> point <span class="token keyword">in</span> self<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            d <span class="token operator">+=</span> pivot<span class="token punctuation">.</span>distance<span class="token punctuation">(</span>point<span class="token punctuation">)</span>
            pivot <span class="token operator">=</span> point
        d <span class="token operator">+=</span> pivot<span class="token punctuation">.</span>distance<span class="token punctuation">(</span>self<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> d

    <span class="token keyword">def</span> <span class="token function">aire</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        a <span class="token operator">=</span> <span class="token number">0</span>
        pivot <span class="token operator">=</span> self<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> point <span class="token keyword">in</span> self<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            a <span class="token operator">+=</span> pivot<span class="token punctuation">.</span>x <span class="token operator">*</span> point<span class="token punctuation">.</span>y <span class="token operator">-</span> pivot<span class="token punctuation">.</span>y <span class="token operator">*</span> point<span class="token punctuation">.</span>x
            pivot <span class="token operator">=</span> point

        point <span class="token operator">=</span> self<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        a <span class="token operator">+=</span> pivot<span class="token punctuation">.</span>x <span class="token operator">*</span> point<span class="token punctuation">.</span>y <span class="token operator">-</span> pivot<span class="token punctuation">.</span>y <span class="token operator">*</span> point<span class="token punctuation">.</span>x

        <span class="token keyword">return</span> <span class="token number">0.5</span> <span class="token operator">*</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>

</code></pre>
<p>Remarques :</p>
<ol>
<li>Dans le constructeur de la classe polygone, on recrée une liste de points pour être sûr que le nombre de points reste constant (la liste est passée en paramètre et peut donc être modifiée à l'extérieur de la classe)</li>
<li>Notez que l'on ne recrée pas les points, ils peuvent donc changer car ils sont passés en paramètre de la construction du polygone</li>
</ol>
<p>On peut tester le code avec, par exemple :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python">points <span class="token operator">=</span> <span class="token punctuation">[</span>Point<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
polygone <span class="token operator">=</span> Polygone<span class="token punctuation">(</span>points<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>polygone<span class="token punctuation">.</span>périmètre<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>polygone<span class="token punctuation">.</span>aire<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h3>Un polygone particulier</h3>
<p>Comment modéliser une classe triangle ?</p>
<p>Comme un triangle <strong>est un</strong> polygone simple, on peut utiliser l'héritage pour cela.</p>
<h4>Modélisation UML</h4>
<p>Elle est très simple :</p>
<p><img src="h%C3%A9ritage_triangle.png" alt="triangle"></p>
<p>Notez que pour l'héritage, on ne remet pas les attributs/méthodes définis dans les classes mères.</p>
<h4>Code python du Triangle</h4>
<p>La classe <code class="language-">Triangle</code> hérite de <code class="language-">Polygon</code>, on appelle donc le constructeur de ce dernier lors de la création d'un <code class="language-">Triangle</code>.</p>
<p>Ceci est explicite en python :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Triangle</span><span class="token punctuation">(</span>Polygone<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> point1<span class="token punctuation">,</span> point2<span class="token punctuation">,</span> point3<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">[</span>point1<span class="token punctuation">,</span> point2<span class="token punctuation">,</span> point3<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>On peut maintenant utiliser toutes les méthodes définies dans Polygone puisque le constructeur de <code class="language-">Triangle</code> appelle directement le constructeur de <code class="language-">Polygone</code> : à la fin du constructeur, il existera une liste de points dans le triangle.</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python">triangle <span class="token operator">=</span> Triangle<span class="token punctuation">(</span>Point<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>triangle<span class="token punctuation">.</span>périmètre<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>triangle<span class="token punctuation">.</span>aire<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>Pour trouver le périmètre, python fonctionne ainsi :</p>
<ol>
<li>existe-t-il un nom <code class="language-">périmètre</code> dans l'objet <code class="language-">triangle</code> : NON</li>
<li>existe-t-il un nom <code class="language-">périmètre</code> dans la classe de l'objet <code class="language-">triangle</code>, <code class="language-">Triangle</code> : NON</li>
<li>existe-t-il un nom <code class="language-">périmètre</code> dans la classe mère de <code class="language-">Triangle</code>, <code class="language-">Polygone</code> : OUI</li>
</ol>
<p>Une fois la méthode trouvée, on l'exécute en plaçant l'objet (ici notre <code class="language-">triangle</code> en 1er paramètre, c'est à dire <code class="language-">self</code> de la méthode <code class="language-">périmètre</code> définie dans <code class="language-">Polygone</code>).</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Les objets de type <code class="language-">Triangle</code> sont <strong>aussi</strong> des objets de type <code class="language-">Polygone</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> triangle <span class="token operator">=</span> Triangle<span class="token punctuation">(</span>Point<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>triangle<span class="token punctuation">,</span> Triangle<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>triangle<span class="token punctuation">,</span> Polygone<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> 
</code></pre>
</div></div>

<h2><span id="exemple-D&D"></span> Exemple 3 : donjons et dragons</h2>
<p>On va simuler des personnage d'<em>heroic fantasy</em>. Pour cela, on commence par créer une classe <code class="language-">Personnage</code> qui sera particularisée petit à petit.</p>
<h3>Classe Personnage</h3>
<p>Le personnage générique doit :</p>
<ul>
<li>avoir un score d'attaque</li>
<li>avoir des points de vie</li>
<li>pouvoir modifier son score d'attaque et ses points de vie</li>
<li>taper un autre personnage (lui faire perdre un nombre de point de vie égale à son score d'attaque)</li>
<li>se faire taper par un autre personnage</li>
</ul>
<h4>UML du personnage</h4>
<p><img src="h%C3%A9ritage_personnage.png" alt="personnage"></p>
<h4>Code python du personnage</h4>
<p>On a décidé ici de ne pas mettre de méthode get et set, mais de laisser libre accès aux attributs. C'est un choix possible. L'UML dérive donc un peu du code python ce qui est normal, chaque langage ayant ses spécificités.</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> attaque<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>vie <span class="token operator">=</span> vie
        self<span class="token punctuation">.</span>attaque <span class="token operator">=</span> attaque

    <span class="token keyword">def</span> <span class="token function">se_faire_taper</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>vie <span class="token operator">-=</span> personnage<span class="token punctuation">.</span>attaque

    <span class="token keyword">def</span> <span class="token function">taper</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        personnage<span class="token punctuation">.</span>se_faire_taper<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
</code></pre>
<p>Voyez comment on a utilisé la méthode <code class="language-">se_faire_taper</code> pour définir la méthode <code class="language-">taper</code>.</p>
<h3>La classe guerrière</h3>
<p>La guerrière dispose d'un score de blocage qui représente son pourcentage de chances de ne pas perdre de vie quand un autre personnage l'attaque.</p>
<h4>Modèle UML de la guerrière</h4>
<p>c'est un personnage, on peut donc utiliser l'héritage.</p>
<p><img src="h%C3%A9ritage_guerri%C3%A8re.png" alt="Guerrière"></p>
<p>On ne met que les méthodes qui changent, donc le constructeur et se faire taper.</p>
<h4>Code python de la guerrière</h4>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token comment"># ... </span>

<span class="token keyword">import</span> random

<span class="token comment">#...</span>

<span class="token keyword">class</span> <span class="token class-name">Guerri</span>ère<span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> attaque<span class="token punctuation">,</span> blocage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>vie<span class="token punctuation">,</span> attaque<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>blocage <span class="token operator">=</span> blocage

    <span class="token keyword">def</span> <span class="token function">se_faire_taper</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>blocage <span class="token operator">&lt;</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>se_faire_taper<span class="token punctuation">(</span>personnage<span class="token punctuation">)</span>
</code></pre>
<p>Comprenez bien le code :</p>
<ul>
<li>On commence par appeler le constructeur de la classe mère (<code class="language-">super().__init__()</code>) puis on applique le cas particulier de notre classe (<code class="language-">self.blocage = blocage</code>).</li>
<li>on ajoute un attribut à la guerrière par rapport au personnage normal,</li>
<li>la méthode <code class="language-">se_faire_taper(personnage)</code> utilise la méthode <code class="language-">se_faire_taper</code> de la classe <code class="language-">Personnage</code> seulement si la guerrière ne bloque pas le coup. Le <code class="language-">super().méthode_de_la_mere()</code> permet d'accéder à la méthode de la classe mère même de même nom qu'une méthode (différente) de la classe fille.</li>
</ul>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On utilise <strong>toujours</strong> le constructeur de la classe mère pour garantir que les méthodes définies dans la classe mère fonctionnent avec les objets de la classe fille. Sinon ici, <code class="language-">se_faire_taper</code> ne fonctionnerait pas puisque vie et attaque ne seraient pas définies</p>
</div></div>

<h3>Le magicien</h3>
<p>Le magicien peut faire tout ce que peut faire un personnage normal mais il dispose en plus d'un score d'attaque magique qui détermine les dégâts qu'il fait en lançant un sort.</p>
<h4>Modèle UML du magicien</h4>
<p>On ajoute une nouvelle méthode qui n'existe pas dans la classe mère :</p>
<p><img src="h%C3%A9ritage_magicien.png" alt="Magicien"></p>
<h4>Code python du magicien</h4>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Magicien</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> attaque<span class="token punctuation">,</span> attaque_magique<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>vie<span class="token punctuation">,</span> attaque<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>attaque_magique <span class="token operator">=</span> attaque_magique

    <span class="token keyword">def</span> <span class="token function">lancer_sort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        personnage<span class="token punctuation">.</span>vie <span class="token operator">-=</span> self<span class="token punctuation">.</span>attaque_magique
</code></pre>
<h3>Pour aller plus loin</h3>
<p>Dans l'implémentation de notre classe <code class="language-">Personnage</code>, on ne vérifie pas que notre vie passe en dessous de zéro. Il faut donc vérifier à chaque modification de l'attribut s'il est en dessous de zéro ou pas. Pour cela, on utilise en python les <code class="language-">@property</code> vues dans le <a href="../projet-objets-d%C3%A9s#property" class="interne">projet objets : Dés</a> :</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Pour faire plus joli :</strong></p>
</div><div class="pl-8 mr-8">
<p>Remplacez la manipulation directe de l'attribut <code class="language-">vie</code> par un <code class="language-">@property</code>.</p>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>corrigé</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> attaque<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_vie <span class="token operator">=</span> vie
        self<span class="token punctuation">.</span>attaque <span class="token operator">=</span> attaque

    <span class="token keyword">def</span> <span class="token function">se_faire_taper</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>vie <span class="token operator">=</span> self<span class="token punctuation">.</span>vie <span class="token operator">-</span> personnage<span class="token punctuation">.</span>attaque

    <span class="token keyword">def</span> <span class="token function">taper</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
        personnage<span class="token punctuation">.</span>se_faire_taper<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">vie</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_vie

    <span class="token decorator annotation punctuation">@vie<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">vie</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> valeur<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_vie <span class="token operator">=</span> valeur
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_vie <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_vie <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"je suis mort"</span><span class="token punctuation">)</span>
</code></pre>
</div>
</details>     
</div>
<h2>Héritage multiple</h2>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://docs.python.org/fr/3/tutorial/classes.html#multiple-inheritance">Héritage multiple en Pyton</a></p>
</div></div>

<p>Il est parfois tentant de faire hériter une classe de plusieurs autres. Par exemple, en reprenant l'exemple 1, on pourrait définir une classe <code class="language-">Doctorant</code> qui serait <strong>à la fois</strong> <code class="language-">Étudiant</code> et <code class="language-">EnseignantChercheur</code> :</p>
<p><img src="th%C3%A9sard.png" alt="doctorant"></p>
<p>Ceci est tout à fait possible en python, en mettant plusieurs classes mères suivies par des virgules :</p>
<pre class="language-python line-numbers" style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Doctorant</span><span class="token punctuation">(</span>Étudiant<span class="token punctuation">,</span> EnseignantChercheur<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">,</span> numéro_étudiant<span class="token punctuation">,</span> laboratoire<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Ceci pose toutefois une foultitude de possibles problèmes lorsque la même méthode ou attribut est définie dans plusieurs classes mères.</p>
<p>Python règle le problème en ordonnant les classes mères grace au mro :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> Doctorant<span class="token punctuation">.</span>mro<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Doctorant'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Étudiant'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.EnseignantChercheur'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Personne'</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'object'</span><span class="token operator">></span><span class="token punctuation">]</span>

</code></pre>
<p>Python suit cet ordre et s'arrête à la première classe définissant le nom recherché.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Les problèmes d'ordre en héritage multiple sont décrits sous le nom de <a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_du_diamant">problème du diamant</a>.</p>
</div></div>

<p>Ceci ne règle cependant pas le problème du constructeur puisque l'on veut que les 2 constructeurs soient exécutés et pas juste le premier trouvé. Il n'y a pas de solution simple à ce problème (voir par exemple <a href="https://realpython.com/python-super/#super-in-multiple-inheritance">cette étude</a>), c'est pourquoi on préfère souvent remplacer l'héritage multiple par une composition :</p>
<pre class="language-python line-numbers" style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Doctorant</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">,</span> numéro_étudiant<span class="token punctuation">,</span> laboratoire<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>étudiant <span class="token operator">=</span> Étudiant<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">,</span> numéro_étudiant<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>enseignant_chercheur <span class="token operator">=</span> EnseignantChercheur<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> prénom<span class="token punctuation">,</span> date_naissance<span class="token punctuation">,</span> laboratoire<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>L'exemple précédent nécessitera toutefois de redéfinir toutes les méthodes, et -- surtout -- le nom et le prénom sont dupliqués. Lorsque ce genre de chose arrive c'est souvent le signe qu'il faut redesigner notre programme et déconstruire ses classes pour séparer clairement les responsabilités et supprimer les duplications.</p>
<h2>On vérifie qu'on a compris</h2>
<p>Quelques petit tests qui ne servent à rien en pratique mais qui permettent de vérifier qu'on a bien compris.</p>
<h3>Héritage de méthodes</h3>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mr-8">
<p>Comment faire une classe <code class="language-">A</code> qui a :</p>
<ul>
<li>un attribut <code class="language-">a</code></li>
<li>une méthode <code class="language-">truc_que_fait_a()</code> qui affiche &quot;Truc défini dans la classe mère&quot;</li>
<li>une méthode <code class="language-">autre_truc()</code> qui affiche &quot;Autre truc dans la classe mère&quot;</li>
</ul>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>solution</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> a

    <span class="token keyword">def</span> <span class="token function">truc_que_fait_a</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Truc défini dans la classe mère"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">truc_que_fait_a</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Autre truc dans la classe mère"</span><span class="token punctuation">)</span>  
</code></pre>
</div>
</details>     
</div>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mr-8">
<p>Écrivez une classe <code class="language-">B</code> qui hérite de <code class="language-">A</code> et qui a :</p>
<ul>
<li>un attribut <code class="language-">b</code></li>
<li>le constructeur à 2 paramètres (a et b), un qui est initialisé dans la classe A (a), l'autre initialisé dans B (b)</li>
<li>une méthode <code class="language-">autre_truc()</code> qui affiche &quot;C'est mon autre truc à moi&quot;</li>
<li>une méthode <code class="language-">que_de_b()</code> qui affiche &quot;Méthode seulement de la classe fille&quot;</li>
</ul>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>solution</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>b <span class="token operator">=</span> b

    <span class="token keyword">def</span> <span class="token function">autre_truc</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"C'est mon autre truc à moi"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">que_de_b</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Méthode seulement de la classe fille"</span><span class="token punctuation">)</span>
</code></pre>
<p>Faites bien attention à utiliser proprement le mot-clé <code class="language-">super</code> dans le constructeur de la classe fille.</p>
</div>
</details>     
</div>
<h3>Attribut de classe</h3>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mr-8">
<p>Ajoutez dans <code class="language-">A</code> un attribut de classe <code class="language-">CTE</code> constante valant <code class="language-">un attribut de classe</code></p>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>solution</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    CTE <span class="token operator">=</span> <span class="token string">"un attribut de classe"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> a
    
    <span class="token keyword">def</span> <span class="token function">truc_que_fait_a</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Truc défini dans la classe mère"</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">truc_que_fait_a</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Autre truc dans la classe mère"</span><span class="token punctuation">)</span>  
</code></pre>
</div>
</details>     
</div>
<h3>Combinaison de méthodes</h3>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mr-8">
<p>Ajoutez :</p>
<ul>
<li>dans la  classe <code class="language-">A</code> : une méthode <code class="language-">j_hérite(x)</code> qui prend un paramètre <code class="language-">x</code> qui est une chaîne de caractère et affiche la valeur de x</li>
<li>dans la  classe <code class="language-">B</code> : une méthode <code class="language-">j_hérite(x)</code> qui commence par appeler la méthode de la classe mère puis affiche la valeur de x en majuscules</li>
</ul>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>solution</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    CTE <span class="token operator">=</span> <span class="token string">"un attribut de classe"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> a

    <span class="token keyword">def</span> <span class="token function">truc_que_fait_a</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Truc défini dans la classe mère"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">truc_que_fait_a</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Autre truc dans la classe mère"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> j_hérite<span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>b <span class="token operator">=</span> b

    <span class="token keyword">def</span> <span class="token function">autre_truc</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"C'est mon autre truc à moi"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">que_de_b</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Méthode seulement de la classe fille"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> j_hérite<span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>j_herite<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div>
</details>     
</div>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>