<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Pseudo-assembleur</title>

    

    <link href="https://prismjs.catppuccin.com/latte.css" rel="stylesheet">

    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>Pseudo-assembleur</h1>
  <div>
    

    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/algorithmie/">Algorithmie</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/algorithmie/exécuter-code/">Exécuter du Code</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/algorithmie/exécuter-code/pseudo-assembleur/">Pseudo-assembleur</a>

</div></div>



    
  

  <blockquote>
<p>TBD ici dire qu'on peut augmenter la taille.</p>
</blockquote>
<p>Nous allons présenter une version <em>&quot;minimale&quot;</em> de pseudo-code que nous appellerons pseudo-assembleur. Cet assembleur idéal et théorique nous permettra de faire le lien entre pseudo-code et le langage machine qui est effectivement exécuté.</p>
<h2>Objet et variables</h2>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Les objets que peut manipuler le pseudo-assembleur sont les caractères <code>0</code> et <code>1</code> et les suites finies de ces caractères.</p>
</div></div>

<p>Par exemple l'objet de nom <code>o</code> :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">o <span class="token operator">=</span> <span class="token number">1011001</span></code></pre>
<p>Dans un pseudo-code, l'endroit où sont stockés les objets n'est pas défini, dans le pseudo-assembleur, on les stocke explicitement dans un tableau nommé <strong><em>mémoire</em></strong> :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>La <strong><em>mémoire</em></strong> est un tableau $M$ de taille $N$ où chaque case peut contenir soit le caractère <code>0</code>, soit le caractère <code>1</code>.</p>
</div></div>

<p>Chaque objet $o = o_0\dots o_{p-1}$, une suite finie de <code>0</code> et de <code>1</code>, est stocké dans des cases contiguës de la mémoire.</p>
<p>L'objet <code>o</code> de tout à l'heure sera alors rangé :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">    <span class="token number">01234567</span>
o <span class="token operator">=</span> <span class="token number">11010100</span>

M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
M<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></code></pre>
<p>Attention à la lecture, <strong><em>le bit de poids fort</em></strong> de l'objet, celui le plus à gauche, est d'indice le plus petit.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Les bits de l'objet sont numérotés dans l'ordre opposé de leur lecture. On appelle cette <strong>convention</strong> <a href="https://fr.wikipedia.org/wiki/Boutisme"><strong><em>big endian</em></strong> (ou gros boutisme en français)</a>.</p>
<p>Comme toute convention, certains prennent la convention opposée, dite <strong><em>little endian</em></strong> (ou petit boutisme en français).</p>
</div></div>

<p>Ce stockage permet de définir les références :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Une <em><strong>référence</strong></em> d'un objet est l'adresse du premier indice en mémoire le contenant.</p>
</div></div>

<p>Une variable est alors une référence nommée :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Une <em><strong>variable</strong></em> est un nom auquel est associé une référence à un objet.</p>
</div></div>

<p>La mémoire étant finie, la référence à un objet est toujours codée sur $S = \log_2(N)$ bits.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>La taille $N$ de la mémoire sera toujours une puissance de $2$. On notera $S = \log_2(N)$$, la taille (entière et en bit) du codage binaire d'une adresse.</p>
</div></div>

<p>Ceci permet de définir rigoureusement un tableau :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Un <em><strong>tableau</strong></em> de taille $n$ est suite finie et contiguë de $n \cdot S$ cases mémoire. Chaque $S$ bits successifs en mémoire contient la référence d'un objet.</p>
</div></div>

<blockquote>
<p>TBD : exemple avec mémoire, objet et tableau. Et variables nommées qui les références. Pour l'instant, les variables ne sont pas en mémoire (on le fera avec la pile et le modèle de von Neumann).</p>
<p>TBD : le fait que ce soit fini ne change rien :</p>
<ul>
<li>à l'exécution : si on dépasse on double la mémoire et on recommence</li>
<li>à la complexité : le temps mis/nb d'instruction effectué est T(sum i/2^i) = 2T. Voir universal search</li>
</ul>
</blockquote>
<h3>Objets entiers</h3>
<p>L'objet entier n'existe pas à proprement parler, mais on suppose qu'une suite finie de $S = \log_2(N)$ bits, qui correspond à une adresse, peut aussi être vue comme un entier. Pour cela, on on possède les deux fonctions suivantes :</p>
<ul>
<li>$u: \{0, 1\}^{S}\rightarrow \mathbb{N}$ qui rend l'entier associé à la suite considérée comme sa représentation binaire</li>
<li>$s: \{0, 1\}^{S}\rightarrow \mathbb{Z}$ qui rend l'entier associé à la suite considérée comme sa représentation binaire en <a href="https://fr.wikipedia.org/wiki/Compl%C3%A9ment_%C3%A0_deux">le complément à deux</a> sur $S$ bits.</li>
<li>$b: \mathbb{Z} \rightarrow  \{0, 1\}^{S}$ qui rend la représentation binaire en <a href="https://fr.wikipedia.org/wiki/Compl%C3%A9ment_%C3%A0_deux">le complément à deux</a> sur $S$ bits associé à l'entier.</li>
</ul>
<p>Pour l'objet <code>o = 1011001</code> précédent, on a :</p>
<ul>
<li><code>u(o) = 212</code></li>
<li><code>s(o) = -44</code></li>
</ul>
<p>Si <code>o</code> code un entier, c'est qu'une adresse mémoire est codée sur 8bits ($S = 8$) et donc que sa taille vaut $N = 2^8 = 256$. Pour affecter des entiers dans la mémoire on écrira alors :</p>
<pre><code>M[X:X+S] = b(212)
</code></pre>
<p>Qui sera équivalent à <code>M[X:X+S] = 1011001</code> si $S=8$ et à <code>M[X:X+S] = 000000001011001</code> si $S=16$.</p>
<h3>Équivalence avec le pseudo-code</h3>
<p>On l'a vu, <a href="../../bases-th%C3%A9oriques/d%C3%A9finition/#param%C3%A8tres-binaires" class="interne">un programme ne peut manipuler que des suites finies de <code>0</code> et de <code>1</code></a>. Le pseudo-code et le pseudo-assembleur manipulent les mêmes objets.</p>
<p>De plus, la finitude de la mémoire n'est pas un problème pour les algorithmes puisqu'ils finissent. On pourra donc toujours trouver une taille de mémoire permettant de l'exécuter. De là, si un programme en pseudo-assembleur atteint la limite de la mémoire, on peut toujours stopper son exécution et la recommencer avec une mémoire deux fois plus grande. L'algorithme en pseudo-assembleur finira toujours par s'arrêter. On a donc :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>Pseudo-assembleur et pseudo-code sont équivalent pour la gestion des objets.</p>
</div></div>

<h2>Fonctions et appel de fonctions</h2>
<p>En pseudo-code, on appelle les fonctions via des paramètres :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">ma_fonction<span class="token punctuation">(</span>p1<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> pn<span class="token punctuation">)</span></code></pre>
<p>En pseudo-assembleur, une fonction est appelée avec un unique paramètre $p$ qui correspond à une adresse mémoire d'un tableau à $n$ adresses telle que :</p>
<ol>
<li>$M[p+(i-1)S:p+iS]$ corresponde à l'adresse du paramètre $p_i$</li>
<li>Pour tout $k \geq p+nS$, Aucune case mémoire $M[k]$, n'est utilisée pour l'instant par le programme.</li>
</ol>
<p>La  première condition permet de ne pas faire de différence entre paramètre de fonctions et objet de l'algorithme et la seconde permet d'appeler facilement des fonction de manière récursive !</p>
<p>Par exemple la fonction factorielle que l'on pourrait écrire en pseudo-code :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">factorielle</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
  si n ≤ <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
  sinon<span class="token punctuation">:</span>
    <span class="token keyword">return</span> n <span class="token operator">*</span> factorielle<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

affiche à l'écran factorielle<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></code></pre>
<p>Deviendrait en pseudo-assembleur :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python"><span class="highlight-line"><span class="token keyword">def</span> <span class="token function">factorielle</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="highlight-line">  si u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>p<span class="token punctuation">:</span>p<span class="token operator">+</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span> ≤ <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="highlight-line">    <span class="token keyword">return</span> <span class="token number">1</span></span>
<span class="highlight-line">  sinon<span class="token punctuation">:</span></span>
<span class="highlight-line">    M<span class="token punctuation">[</span>p <span class="token operator">+</span> S<span class="token punctuation">:</span>p <span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>p<span class="token punctuation">:</span>p<span class="token operator">+</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="highlight-line">    <span class="token keyword">return</span> u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>p<span class="token punctuation">:</span>p<span class="token operator">+</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> factorielle<span class="token punctuation">(</span>p <span class="token operator">+</span> S<span class="token punctuation">)</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="highlight-line">affiche à l'écran factorielle<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></code></pre>
<p>Lors de l'exécution du code précédent, la fonction factorielle va être appelée quatre fois. Voyons ça pour $S=4$ et donc une taille mémoire de 32bits.</p>
<p>premier appel depuis la ligne 9 du programme <code>factorielle(0)</code> :</p>
<pre><code>0         1         2         3
012345678901234567890123456789012
010000000000000000000000000000000
p
</code></pre>
<p>Comme u(M[0:0+4]) vaut 4, on rappelle factorielle en ligne 6, <code>factorielle(4)</code> :</p>
<pre><code>0         1         2         3
012345678901234567890123456789012
010000110000000000000000000000000
    p
</code></pre>
<p>Comme u(M[4:4+4]) vaut 3, on rappelle factorielle en ligne 6, <code>factorielle(8)</code> :</p>
<pre><code>0         1         2         3
012345678901234567890123456789012
010000110010000000000000000000000
        p
</code></pre>
<p>Comme u(M[8:8+4]) vaut 2, on rappelle factorielle en ligne 6, <code>factorielle(12)</code> :</p>
<pre><code>0         1         2         3
012345678901234567890123456789012
010000110010000100000000000000000
            p
</code></pre>
<p>Comme u(M[12:12+4]) vaut 1 : <code>factorielle(12)</code> rend <code>1</code>. On se trouve donc dans la fonction <code>factorielle(8)</code> qui peut maintenant également s'arrêter en rendant <code>u(M[8:8+4]) * factorielle(12)</code> qui vaut : $2 \cdot 1 = 2$.</p>
<p>De là <code>factorielle(4)</code> s'arrête en rendant <code>u(M[4:4+4]) * factorielle(8)</code> qui vaut : $3 \cdot 2 = 6$ ce qui permet à <code>factorielle(0)</code> de rendre <code>u(M[0:0+4]) * factorielle(4)</code> qui vaut $4 \cdot 6 = 24$.</p>
<p>L'utilisation de ce tableau de paramètres en mémoire permet d'avoir :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>Pseudo-assembleur et pseudo-code sont équivalent pour la gestion des fonctions.</p>
</div></div>

<h2>Structures de contrôles</h2>
<p>On associe à chaque ligne du programme en pseudo-assembleur un <strong><em>label</em></strong>, qui correspond à son numéro de ligne. Cet ajout va permettre de gérer les structures de contrôles et les tests sans blocs : uniquement avec des sauts.</p>
<h3>Saut</h3>
<p>On ajoute au pseudo-assembleur une instruction de saut :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">GOTO label</code></pre>
<p>L'instruction <code>GOTO</code> (&quot;go to&quot; : &quot;aller à&quot;) <em>saute</em> à l'instruction de label <code>label</code>. Par exemple le programme suivant qui est une version itérative (et infinie) de la factorielle :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python"><span class="highlight-line">M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="highlight-line">M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">affiche à l'écran u<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="highlight-line">M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">GOTO <span class="token number">3</span></span></code></pre>
<p>Contrairement à la version récursive précédente, la taille de la mémoire utilisée de change pas.</p>
<p>Notez que les sauts peuvent être utilisés pour des appels de fonctions ! Il suffit de permettre le saut à partir d'une variable. Le code suivant utilise une variable pour stocker l'endroit où sauter après l'exécution de la fonction :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">GOTO <span class="token number">6</span>

affiche à l'écran u<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span>
GOTO u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>2S<span class="token punctuation">:</span>3S<span class="token punctuation">]</span><span class="token punctuation">)</span>

M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
M<span class="token punctuation">[</span>2S<span class="token punctuation">:</span>3S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
GOTO <span class="token number">3</span>

M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

M<span class="token punctuation">[</span>2S<span class="token punctuation">:</span>3S<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">17</span>
GOTO <span class="token number">3</span>

GOTO <span class="token number">11</span></code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>L'appel de fonction en pseudo-assembleur se fait avec des instructions de saut et une variable contenant la ligne de retour.</p>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Dans ce cas là, le nombre de ligne de code est borné par l'adressage possible en mémoire. Ce n'est pas gênant en pratique, un adressage sur 64bit permet d'écrire $2^{64}$ lignes de code...</p>
</div></div>

<p>On le voit, l'utilisation de saut peut vite être difficile à lire, on recommande de l'utiliser de façon parcimonieuse.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf">Célèbre article de Dijkstra contre l'utilisation des sauts en programmation</a>.</p>
</div></div>

<h3>Test</h3>
<p>Les tests en pseudo-code sont de deux types :</p>
<ul>
<li>arithmétiques, comme $a &lt; b$</li>
<li>logique, comme $(A OU B) ET C$</li>
</ul>
<p>Ils n'existent pas à proprement parler en pseudo-assembleur, mais ils peuvent être simulé grâce aux <strong><em>drapeaux</em></strong>.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Un <strong><em>drapeau</em></strong> (<strong><em>flag</em></strong>)  est une variable binaire affectée automatiquement après une opération.</p>
</div></div>

<p>Par exemple :</p>
<ul>
<li>$a \leq b$ pourra être effectué en regardant la valeur du drapeau <code>NÉGATIF</code> après l'opération $b-a$.</li>
<li>$(A OU B) ET C$ pourra être effectué en regardant la valeur du drapeau <code>ZÉRO</code> (s'il vaut <code>0</code>, c'est vrai)</li>
</ul>
<p>Comme les nombres négatifs seront codés en <a href="https://fr.wikipedia.org/wiki/Compl%C3%A9ment_%C3%A0_deux">Complément à deux</a>, le bit d poids ford d'un entier vaudra 0 s-il est positif et 1 s'il est négatif. Le drapeau <code>NÉGATIF</code>  peut donc être simulé par le drapeau <code>ZÉRO</code> en effectuant l'opération <code>x ET 01...1</code> qui vaudra 0 (le drapeau <code>ZÉRO</code> vaudra alors 1) que le si le nombre <code>u(x)</code> est positif.</p>
<p>On peut donc faire tout nos test en utilisant uniquement le drapeau <code>ZÉRO</code> :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Le pseudo-assembleur possède un drapeau <code>ZÉRO</code> qui vaut <code>1</code> si la dernière opération arithmétique ou logique a donné un résultat de zéro, et <code>0</code> sinon.</p>
</div></div>

<p>Ce drapeau nous permet de faire tous les tests possibles en pseudo-code et donc :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>On peut créer les mêmes tests en pseudo-assembleur et en pseudo-code.</p>
</div></div>

<h3>Saut conditionnel</h3>
<p>Enfin, pour permettre de construire les structures de contrôle du pseudo-code, on ajoute les <strong><em>sauts conditionnels</em></strong> :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Un saut conditionnel est de la forme :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">GOTOIF drapeau label</code></pre>
<p>La prochaine instruction exécutée sera celle de la ligne <code>label</code> si le drapeau de nom <code>drapeau</code> vaut <code>1</code>.</p>
<p>De même :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">GOTOIFNOT drapeau label</code></pre>
<p>La prochaine instruction exécutée sera celle de la ligne <code>label</code> si le drapeau de nom <code>drapeau</code> vaut <code>0</code>.</p>
</div></div>

<p>Le code ci-après utilise le saut conditionnel pour afficher factorielle de 4 :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python"><span class="highlight-line">M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="highlight-line">M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>M<span class="token punctuation">[</span>S<span class="token punctuation">:</span>2S<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="highlight-line">GOTOIF ZÉRO <span class="token number">3</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">affiche à l'écran u<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>S<span class="token punctuation">]</span><span class="token punctuation">)</span></span></code></pre>
<p>Comme on le voit, il est facile de remplacer les structures de contrôles et les répétitions du pseudo-code par une utilisation combinée des labels et des sauts conditionnels :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>On peut créer les mêmes structure de contrôles et les boucles en pseudo-assembleur et en pseudo-code.</p>
</div></div>

<h2>Opérations</h2>
<p>Les opérations autorisées en pseudo-code sont de deux ordres : logique et arithmétiques. Les autres opérations (concaténation de chaines de caractères, manipulation d'approximation de réels, ...) se déduisent de ces deux catégories. Les opérations logiques et arithmétiques fonctionnent toutes de la même manière :</p>
<ul>
<li>elles prennent au plus 2 paramètres</li>
<li>elles rendent au plus 1 objet</li>
</ul>
<p>Par exemple l'addition (2 paramètres et une sortie) ou la négation (1 paramètre et une sortie). Notez que les opérations qui rendent plus que une sortie (comme la division euclidienne par exemple) peuvent être décomposées en plusieurs opérations rendant chacune une unique sortie (division entière et modulo pour la division euclidienne).</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Le schéma général d'une <strong><em>opération</em></strong> en pseudo-assembleur est :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">OP <span class="token comment">#1 #2 #3 </span></code></pre>
<p>Où :</p>
<ul>
<li><code>OP</code> est le <a href="https://fr.wikipedia.org/wiki/Code_mn%C3%A9monique">code mnémonique</a> associée (le nom) à l'opération</li>
<li><code>#1</code>, <code>#2</code> et <code>#3</code> représentent les paramètres de l'opération et peuvent représenter soit des entrées soit une sortie selon l'opération.</li>
</ul>
</div></div>

<p>Les paramètres d'entrées et la sortie sont stockés dans des <a href="https://fr.wikipedia.org/wiki/Registre_de_processeur">registres</a> qui sont des variables spéciales.</p>
<h3>Registres</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Un <strong><em>registre</em></strong> est une mémoire de taille $S$ (donc suffisante pour stocker une adresse). Il en existe deux types :</p>
<ul>
<li>les registres génériques qui peuvent indépendamment être utilisé comme entrée et sortie d'une opération. Ils sont désignés par un numéro <code>$1</code>, <code>$2</code>, etc.</li>
<li>les registres spécifiques qui véhiculent des informations précisent et sont souvent en lecture seule (les drapeaux sont des registres spécifiques par exemple).</li>
</ul>
</div></div>

<p>Les registres permettent de faire fonctionner le pseudo-assembleur et forment les liens entre opérations et mémoire. Les opérations permettant de déplacer les valeurs des registres à la mémoire et inversement sont :</p>
<ul>
<li><code>LOAD $X $Y</code> qui place la valeur en mémoire <code>M[u($Y):u($Y)+S]</code>  (<code>u($Y)</code> est la valeur du registre de numéro <code>Y</code> prise comme une adresse) dans le registre de numéro <code>X</code></li>
<li><code>STORE $X $Y</code> qui place la valeur du registre <code>X</code> dans les cases mémoires <code>M[u($Y):u($Y)+S]</code></li>
<li><code>SET $X Y</code> qui place la constante <code>Y</code> (un entier relatif) dans le registre de numéro <code>X</code></li>
</ul>
<p>Encore et toujours factorielle, mais avec des registres</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">SET $<span class="token number">1</span> <span class="token number">1</span>
SET $<span class="token number">2</span> <span class="token number">4</span>

$<span class="token number">1</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>u<span class="token punctuation">(</span>$<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
$<span class="token number">2</span> <span class="token operator">=</span> b<span class="token punctuation">(</span>u<span class="token punctuation">(</span>$<span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
GOTOIF ZÉRO <span class="token number">3</span>

affiche à l'écran u<span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">)</span>
</code></pre>
<h3>Types d'opérations</h3>
<p>Les opérations d'un pseudo-assembleur, comme pour un pseudo-code sont essentiellement arithmétique</p>
<h4>Logiques</h4>
<p>On en conclut donc qu'il suffit que le pseudo-assembleur ne doit posséder que la fonction $\text{NAND}(x, y)$ pour 1bit pour pouvoir effectuer toutes les opérations logiques. D'où la proposition suivante :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>Le pseudo-assembleur peut effectuer toutes les opérations logiques du pseudo-code s'il possède l'opération :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">NAND $<span class="token number">1</span> $<span class="token number">2</span> $<span class="token number">3</span></code></pre>
<p>Qui effectue l'opération $\text{NAND}$ pour les 2 objets de longueur 1 des registres <code>$1</code> et <code>$2</code> et affecte le résultat dans le registre <code>$3</code>.</p>
</div></div>

<h4>Arithmétiques</h4>
<p>Pour générer toutes les opérations arithmétiques sur les entiers relatifs, il suffit de posséder les opérations d'addition et de soustraction. En utilisant le complément à deux pour noter les entiers négatifs, addition et soustractions sont équivalents :</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://fr.wikipedia.org/wiki/Compl%C3%A9ment_%C3%A0_deux">Complément à deux</a></p>
</div></div>

<p>On peut de plus additionner bit à bit deux nombres en utilisant la retenue. Par exemple, ci-dessous le code de la fonction additionnant deux bits <code>M[0]</code> et <code>M[1]</code> pour rendre la valeur <code>M[3]</code> et la retenue, <code>M[2]</code>, s'il y en a une:</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">M<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

M<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> XOR<span class="token punctuation">(</span>XOR<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> M<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
M<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> OR<span class="token punctuation">(</span>AND<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> OR<span class="token punctuation">(</span>AND<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> M<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> AND<span class="token punctuation">(</span>M<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> M<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>En reprenant la sortie de l'algorithme précédent et en l'itérant autant de fois que nécessaire (les paramètres d'entrées seront les deux bit à additionner et la retenue précédente), on peut peut additionner des entiers de toute taille :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>Le pseudo-assembleur peut effectuer toutes les opérations arithmétiques du pseudo-code s'il possède l'opération :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">ADD $<span class="token number">1</span> $<span class="token number">2</span> $<span class="token number">3</span></code></pre>
<p>et le drapeau <code>RETENUE</code> telle que <code>ADD</code> additionne les valeurs des registres <code>$1</code> et <code>$2</code> en tenant compte du drapeau <code>RETENUE</code> et affecte le résultat dans le registre <code>$3</code> en mettant à jour la valeur du drapeau <code>RETENUE</code>.</p>
</div></div>

<p>Come l'addition bit à bit permet de créer l'addition sur un registre complet et que celle ci se fait uniquement avec des opérations logiques, on a de plus :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Proposition</strong></p>
</div><div class="pl-8 mr-8">
<p>Le pseudo-assembleur peut effectuer toutes les opérations arithmétiques du pseudo-code s'il possède l'opération :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">NAND $<span class="token number">1</span> $<span class="token number">2</span> $<span class="token number">3</span></code></pre>
<p>Qui effectue l'opération $\text{NAND}$ pour les 2 objets de longueur 1 des registres <code>$1</code> et <code>$2</code> et affecte le résultat dans le registre <code>$3</code>.</p>
</div></div>

<h4>Autres opérations</h4>
<p>Les autres opérations possibles par un pseudo-code (gestion des réels, concaténation de chaines, etc) sont facilement codable avec les opérations logique et arithmétiques sur les entiers.</p>
<p>La factorielle finale serait alors quelque chose du genre, en supposant que l'on ait les opérations de somme et de multiplications :</p>
<pre class="language-python" tabindex="0" data-language="python"><code class="language-python">SET $<span class="token number">1</span> <span class="token number">1</span>
SET $<span class="token number">2</span> <span class="token number">4</span>

MUL $<span class="token number">1</span> $<span class="token number">2</span> $<span class="token number">1</span>
ADD $<span class="token number">2</span> <span class="token operator">-</span><span class="token number">1</span> $<span class="token number">2</span>

GOTOIF ZÉRO <span class="token number">3</span>

affiche à l'écran u<span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">)</span></code></pre>
<h3>Conclusion</h3>
<p>La seule opération que doit pouvoir faire un pseudo-assembleur pour pouvoir faire tout ce que peut faire un pseudo-code est l'opération <code>NAND</code>. Tout le reste peut être construit grâce à du code.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>À retenir</strong></p>
</div><div class="pl-8 mr-8">
<p>Les structure de contrôles, les variables en mémoire et l'unique opération <code>NAND</code> permettent de simuler toutes les structures de données possibles ainsi que leurs opérations.</p>
</div></div>

<h2>I/O</h2>
<p><a href="https://fr.wikipedia.org/wiki/Entr%C3%A9e-sortie">Les entrées/sorties</a> ne sont pas indispensables au bon fonctionnement d'un pseudo-assembleur (il suffit d'écrire ou de lire directement en mémoire) on peut supposer qu'il existe des fonctions permettant de lire des données ou d'afficher des résultat à l'écran mais qu'elles ne sont pas directement gérées par le pseudo-assembleur.</p>
<h2>Pseudo-assembleur minimal</h2>
<p>On vient de voir qu'il ne faut vraiment pas grand chose pour simuler tout ce que faire du pseudo-code :</p>
<ol>
<li>Mémoire de taille fixe $N = 2^S$ cases</li>
<li>3 registres de taille $S$, deux pour les entrées et une pour la sortie</li>
<li>3 opérations permettant :
<ul>
<li>de déplacer des données de la mémoire vers le registre <code>$1</code> ou <code>$2</code></li>
<li>de déplacer des données d'un des 3 registres vers la mémoire</li>
<li>d'écrire des constantes dans le registre <code>$1</code> ou <code>$2</code></li>
</ul>
</li>
<li>1 drapeau <code>ZÉRO</code> (pour les saut conditionnels)</li>
<li>une opération <code>NAND $1 $2 $3</code> (qui permet de créer en code toutes les autres opérations)</li>
<li>un saut conditionnel avec le drapeau <code>ZÉRO</code> à une ligne donnée du code</li>
</ol>
<p>Tout le reste peut–être géré via du code, lui aussi est très simple puisqu'il est uniquement constitué de transfert de mémoire, d'opérations <code>NAND</code> et de sauts conditionnels.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>À retenir</strong></p>
</div><div class="pl-8 mr-8">
<p>Le pseudo-code ne peut pas faire plus que du pseudo-assembleur, c'est juste plus agréable à écrire.</p>
</div></div>



</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>