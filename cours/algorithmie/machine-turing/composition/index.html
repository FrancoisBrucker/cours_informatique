<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Compositions de machines</title>

    <link href="/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.css" rel="stylesheet">
    
    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>Compositions de machines</h1>
  <div>
    

    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/algorithmie/">Algorithmie</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/algorithmie/machine-turing/">Machine de Turing</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/algorithmie/machine-turing/composition/">Compositions de machines</a>

</div></div>



    
  

  <p>Nous allons montrer comment combiner plusieurs machines entres-elles afin de réaliser des machines de plus en plus complexe et aura les mêmes structures de contrôle que le <a href="../../../ex%C3%A9cuter-code/pseudo-assembleur/" class="interne">pseudo-assembleur</a> :</p>
<ol>
<li>exécution séquentielle</li>
<li>saut</li>
<li>saut conditionnel</li>
<li>appel de procédures</li>
</ol>
<h2>Exécution séquentielle de machines</h2>
<p>Nous formalisons ici l'<a href="../d%C3%A9finitions/#addition-turing" class="interne">addition</a> vue dans la partie entrée.</p>
<p><span id="exécution-séquentielle"></span></p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Soient $M_i$, $1\leq i \leq n$, $n$ machines de Turing de fonctions de transition respectives $\delta^i(q, r) = (\delta^i_e(q, r), \delta^i_c(q, r), \delta^i_d(q, r))$.</p>
<p>L'<strong><em>exécution séquentielle</em></strong> des $M_i$ machines est alors la machine définie par la fonction de transition $\delta$ telle que :</p>
<ul>
<li>Initialisation :
<ul>
<li>$\delta(\text{START}, r) = (\text{START}', r, \rightarrow)$</li>
<li>$\delta(\text{START}', r) = ((1, \text{START}), r, \leftarrow)$</li>
</ul>
</li>
<li>Re-labellisation des états des machines :
<ul>
<li>Pour tout état $q$ de la machine $M_i$ : $\delta((i, q), r) = ((i, \delta^i_e(q, r)), \delta^i_c(q, r),\delta^i_d(q, r))$</li>
</ul>
</li>
<li>Exécution successive des $n$ machines :
<ul>
<li>$\delta((i, \text{STOP}), r) = ((i, \text{STOP}'), r,\rightarrow)$</li>
<li>$\delta((i, \text{STOP}'), r) = ((i+1, \text{START}), r,\leftarrow)$</li>
</ul>
</li>
</ul>
</div></div>

<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On a ajouté une machine qui fait un aller-retour d'une case entre chaque exécution d'une machine pour garantir que la case du début de la machine $i+1$ est bien la même que la case qui a déclenchée la transition de fin de la machine $i$. Cela est cohérent avec la définition de $M+M'$ et rend indépendant les instructions $i$ et $i+1$.</p>
</div></div>

<p>On pourra écrire l'exécution séquentielle des machines $M_i$ comme l'<em>algorithme</em> :</p>
<ul>
<li>$1$: $M_1$</li>
<li>...</li>
<li>$i$: $M_i$</li>
<li>...</li>
<li>$n$: $M_n$</li>
</ul>
<p>Chaque ligne correspond à une <em>instruction</em> indépendante, l'interaction entre les machines se faisant grâce au ruban.</p>
<h2>Saut</h2>
<p>L'exécution séquentielle des machines permet de créer une machine permettant de <em>sauter</em> à une autre ligne du programme. Pour cette machine, on ne relabelle que ses états <code>START</code> et <code>START'</code> pour coller à son numéro de ligne dans le programme, son état interne sautant déjà vers une ligne donnée du programme :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Dans un programme, La machine <strong><em>GOTO LIGNE</em></strong> est définie par la fonction de transition :</p>
<ul>
<li>$\delta(\text{START}, r) = (\text{START}', r,\rightarrow)$</li>
<li>$\delta(\text{START}', r) = ((\text{LIGNE}, \text{START}), r,\leftarrow)$</li>
</ul>
</div></div>

<h2>Saut conditionnel</h2>
<p>Cette machine est une adaptation de la machine <code>GOTO</code>. Elle saute uniquement s'il y a un <code>1</code> sur le ruban au niveau du curseur.
Comme pour la machine de saut, on ne relabelle que ses états <code>START</code>, <code>START'</code> et <code>STOP</code> et pas l'état interne qui saute vers une ligne du programme.
La machine suivante saute à une ligne particulière
:</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>La machine <strong><em>IF 1 GOTO LIGNE</em></strong> est définie par la fonction de transition :</p>
<ul>
<li>$\delta(START, 0) = (\text{STOP}, 0,\rightarrow)$</li>
<li>$\delta(START, 1) = (\text{START}', 1,\rightarrow)$</li>
<li>$\delta(\text{START}', r) = ((\text{LIGNE}, \text{START}), r,\leftarrow)$</li>
</ul>
</div></div>

<p>Créez le pendant de cette machine :</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mr-8">
<p>Définissez la machine qui saute à la ligne $\text{LIGNE}$ s'il y a un <code>0</code> sur le ruban au niveau du curseur.</p>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>corrigé</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<p>La machine <strong><em>IF 0 GOTO LIGNE</em></strong> est définie par la fonction de transition :</p>
<ul>
<li>$\delta(START, 1) = (\text{STOP}, 1,\rightarrow)$</li>
<li>$\delta(START, 0) = (\text{START}', 0,\rightarrow)$</li>
<li>$\delta(\text{START}', r) = ((\text{LIGNE}, \text{START}), r,\leftarrow)$</li>
</ul>
</div>
</details>     
</div>
<h2>Appel de procédures</h2>
<p>Souvent lorsque l'on crée un programme avec une machine de Turing on se trouve confronté à des machines qui doivent être exécutées dans des contextes différents. Un peu comme un appel de fonction dans du pseudo-code classique.</p>
<p>Pour permettre d'écrire cela de façon condensée on peut définir des labels spéciaux dans nos programmes :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Dans un programme, on permet de définir un label générique <strong>LIGNE: ($p_1, \dots, p_k$): M</strong> où les $p_i$ peuvent prendre toutes les valeurs d'un ensemble $P_i$ <strong>fini</strong>. On peut utiliser les noms $p_i$ ($1\leq i \leq k$) dans la définition de la machine M.</p>
<p>On génère pour cette ligne les transitions :</p>
<p>$$
\delta((\text{LIGNE}(p_1, \dots, p_k), q)) = ((\text{LIGNE}(p_1, \dots, p_k), \delta^M_e(q, r)), \delta^M_c(q, r),\delta^M_d(q, r))
$$</p>
<p>Pour tous les $(p_1, \dots, p_k) \in P_1 \times \dots \times P_k$</p>
</div></div>

<p>Cette astuce permet de créer rapidement toute une variété (fini) de cas d'exécutions possibles de la ligne $i$. Elles correspondent cependant à $\vert P \vert^k$ machines différents, ce ne sont pas à proprement parler des paramètres de fonction :</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Attention, ce ne sont pas vraiment des fonctions car on ne fait que créer une fonction de transition pour tous les cas possible. Il est donc nécessaire que le nombre de possibilité soit fini.</p>
</div></div>

<p>On a donc une propriété sympathique des machines de Turing :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>À retenir</strong></p>
</div><div class="pl-8 mr-8">
<p>Lorsque le nombre de choix est fini, on peut les simuler par autant d'états différents : on a pas besoin de stocker les possibilités sur le ruban.</p>
</div></div>

<h2>Exemple de composition</h2>
<p>La composition de machines de Turing permet d'écrire du code comme en pseudo-assembleur, chaque ligne étant soit :</p>
<ul>
<li>une machine de Turing</li>
<li>un saut à une ligne donné</li>
<li>un saut conditionnel à une ligne donné</li>
</ul>
<p>Utilisons cette formalisation pour refaire le <a href="../exemple-doublement-batons">doublement de batons</a> que nous avons fait précédemment.</p>
<p>On va décomposer la machine en plusieurs opérations <em>&quot;élémentaires&quot;</em> :</p>
<ol>
<li>Si <code>0</code> aller ligne 9</li>
<li>Écrire <code>0</code> et aller à droite jusqu'à arriver sur un <code>0</code>. Aller à droite.</li>
<li>Si <code>0</code> aller ligne 5</li>
<li>Aller à droite jusqu'à arriver sur un <code>0</code></li>
<li>écrire <code>1</code> et aller à droite. Écrire <code>1</code> et aller à gauche jusqu'à arriver sur un <code>0</code>. Aller à gauche.</li>
<li>Si <code>0</code> aller ligne 8</li>
<li>Aller à gauche jusqu'à arriver sur un <code>0</code>. Aller à droite</li>
<li>retour en 1</li>
<li>Aller à droite. Aller à droite</li>
</ol>
<p>On peut ensuite écrire chacun de ses machines puis les composer.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-orange-500 bg-orange-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
<div class="pl-8 mr-8">
<p>Vérifiez que le programme précédant fonctionne avec <code>111</code> comme entrée</p>
</div></div>

<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block">
<p>solution</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2">
<pre><code>entrée      : 011100000000
               ^
fin ligne 2 : 001100000000
                   ^
fin ligne 5 : 001101100000
                 ^
fin ligne 7 : 001101100000
                ^
fin ligne 2 : 000101100000
                   ^
fin ligne 4 : 000101100000
                     ^
fin ligne 5 : 000101111000
                 ^
fin ligne 7 : 000101111000
                 ^
fin ligne 2 : 000001111000
                   ^
fin ligne 4 : 000001111000
                       ^
fin ligne 5 : 000001111110
                 ^
fin étape 3 : 000001111110
                 ^
</code></pre>
</div>
</details>     
</div>
<blockquote>
<p>TBD à finir en écrivant les différentes machines élémentaires</p>
</blockquote>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>