<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Principes</title>

    

    <link href="https://prismjs.catppuccin.com/latte.css" rel="stylesheet">

    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>Principes</h1>
  <div>
    

    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/">Gestion du code source</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/principes/">Principes</a>

</div></div>



    
  

  <blockquote>
<p>TBD plan. Le principal avantage est de ne pas avoir peur des modifications.</p>
</blockquote>
<h2>Besoins</h2>
<p>Supposons que notre projet soit de travailler sur un ensemble de documents (<em>eg</em> du code) regroupés au sein d'un répertoire de travail (<em>working directory</em>) dont le contenu évolue au cours du temps :</p>
<p><img src="working_directory.png" alt="working directory"></p>
<p>Pour pouvoir modifier ses documents sans avoir peur de faire des erreurs, on peut épisodiquement sauvegarder tout le contenu du répertoire de travail (faire un <em>snapshot</em>) :</p>
<p><img src="snapshots.png" alt="snapshots"></p>
<p>Cette première organisation permet de faire une sauvegarde avant une modification, ou de garder des versions précédentes du projet. En utilisant un dossier partagé (un drive par exemple) si le projet est effectué par plusieurs personnes, chaque snapshot du dossier est associé :</p>
<ul>
<li>au moment où cette sauvegarde à été effectuée : QUAND</li>
<li>à l'utilisateur qui a sauvegardé le dossier : QUI</li>
</ul>
<p>Formalisons ceci avec la notion de <strong><em>commit</em></strong>, qui est constitué :</p>
<ul>
<li>d'une sauvegarde du répertoire de travail (un snapshot du working directory)</li>
<li>de QUI a effectué cette sauvegarde</li>
<li>de QUAND a été effectué cette sauvegarde</li>
</ul>
<p>Il nous manque cependant une information capitale, les versions antérieures qui ont permit de créer le document sauvé (les parents). Ceci permet de conserver un historique des modifications et de connaître ce qui différencie la version actuelle de son ou ses prédécesseurs.</p>
<p>On a alors la définition finale d'un commit :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Définition</strong></p>
</div><div class="pl-8 mr-8">
<p>Un <strong><em>commit</em></strong> d'un projet est constitué :</p>
<ul>
<li>d'une sauvegarde du répertoire de travail (un snapshot du working directory)</li>
<li>de QUI a effectué cette sauvegarde</li>
<li>de QUAND a été effectué cette sauvegarde</li>
<li>du (ou des) commits PARENT</li>
<li>d'un descriptif des modifications effectuées (QUOI)</li>
</ul>
</div></div>

<p>On obtient alors une structure de sauvegarde sous la forme d'<a href="https://fr.wikipedia.org/wiki/Graphe_orient%C3%A9_acyclique">un DAG</a></p>
<blockquote>
<p>TBD expliciter pourquoi on a pas juste un arbre. combinaison de versions issues de 2 utilisateurs différents par exemple (merge)</p>
</blockquote>
<ol>
<li>working dir</li>
<li>sauvegardes : snapshot; Commit: qui</li>
<li>sauvegardes ordonnées : Commit: quand [structure de liste]</li>
<li>sauvegardes diff pour connaître le doc modifié : parent et Commit: quoi [structure d'arbre]</li>
<li>s'y retrouver : Commit: qui, branches et head</li>
<li>choisir ce qu'on stocke : index</li>
</ol>
<blockquote>
<p>TBD DAG avec les merge</p>
</blockquote>
<blockquote>
<ol start="2">
<li>que faut-il pourvoir faire et comment le faire
<ol>
<li>diagrammes [Tout avec des schémas et des arbres/graphes]: commit / branches</li>
<li>merge (rebase) / clone (que la branche main en local / tags (et semver) / worktrees ?. Toutes les branches du remote).</li>
<li>...</li>
</ol>
</li>
</ol>
</blockquote>
<blockquote>
<ul>
<li><a href="https://semver.org/">https://semver.org/</a> pour les tags</li>
<li>faire des schémas</li>
</ul>
</blockquote>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>