<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Projet github</title>

    

    <link href="https://prismjs.catppuccin.com/latte.css" rel="stylesheet">

    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>Projet github</h1>
  <div>
    

    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/">Gestion du code source</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/projet-github/">Projet github</a>

</div></div>



    
  

  <!-- début résumé -->
<p>Création et maintient d'un projet avec Github.</p>
<!-- fin résumé -->
<p>On en profitera pour voir le fonctionnement basique de git :</p>
<ul>
<li>commit</li>
<li>branches</li>
<li>merge</li>
</ul>
<h2>Créer un projet</h2>
<ol>
<li><img src="github-cr%C3%A9er-un-projet-1.png" alt="créer un projet"></li>
<li><img src="github-cr%C3%A9er-un-projet-2.png" alt="options du projet"></li>
</ol>
<p>Résultat : <img src="github-cr%C3%A9er-un-projet-3.png" alt="options du projet"></p>
<p>Les <em>commit</em> sont les mises à jour du projet.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Chaque <strong><em>commit</em></strong> est associé à une <strong><em>branche</em></strong> (ici <code>main</code>) et est obligatoirement constitué de :</p>
<ul>
<li>du nom de la personne qui a effectué le commit, ici <code>Test-cours-ecm</code></li>
<li>du numéro du commit, ici <code>da919d7</code> (donné automatiquement).</li>
<li>d'un message (d'une ligne) décrivant le commit, ici <code>initial commit</code></li>
</ul>
</div></div>

<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Voir <a href="https://www.designveloper.com/blog/hash-values-sha-1-in-git/">ce doc</a> pour voir comment git associe chaque commit à un sha pour le retrouver.</p>
</div></div>

<h2>Faire des commits</h2>
<h3>Ajout de fichiers</h3>
<ol>
<li><img src="github-ajout-fichier-1.png" alt="ajout de fichier"></li>
<li><img src="github-ajout-fichier-2.1.png" alt="texte dans l'interface"></li>
<li><img src="github-ajout-fichier-2.2.png" alt="le commit"></li>
<li><img src="github-ajout-fichier-3.png" alt="le résultat"></li>
</ol>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On a utilisé <a href="https://gitmoji.dev/">https://gitmoji.dev/</a> pour le commit. Mettre un émoji en premier caractère du message permet de facilement identifier le but du commit.</p>
</div></div>

<p>Notre projet a maintenant 2 commits. En cliquant sur le texte <em>32 commits&quot;</em>, on voit l'historique de notre projet sur la branche principale (<code>main</code>) :</p>
<p><img src="github-historique-main.png" alt="historique"></p>
<p>En cliquant sur le numéro de commit, on voit le détail de celui-ci :</p>
<p><img src="github-historique-main-d%C3%A9tail.png" alt="historique"></p>
<p>Nous rentrerons plus en détails de ce tout cci signifie un peut plus tard. Mais La façon dont est représenté le commit suit la syntaxe des <a href="https://www.gnu.org/software/diffutils/manual/diffutils.html">GNU <code>diffutils</code></a>. Pour nous :</p>
<ol>
<li>on a modifié le fichier <code class="fichier">programme.txt</code></li>
<li><code>@@ -0,0 +1, 6 @@</code> : on a supprimé aucune ligne et on a ajouté les lignes 1 à 6.</li>
<li>à droite on voit les lignes ajoutées en vert avec un <code>+</code> devant elles</li>
</ol>
<h3>Modifier un fichier</h3>
<p>Nous allons maintenant modifier le fichier <code class="fichier">readme.md</code> qui est aussi un fichier texte écrit au format <a href="/cours_informatique/tutoriels/format-markdown.md">Markdown</a>. POur que ce fichier soit agréable à la lecture, github le compile en html, mais — en vrai — c'est juste du texte.</p>
<ol>
<li><img src="github-modification-readme-1.png" alt="cliquer pour accéder au fichier "></li>
<li><img src="github-modification-readme-2.png" alt="cliquer pour éditer le fichier "></li>
<li><img src="github-modification-readme-3.png" alt="édition du fichier "></li>
<li><img src="github-modification-readme-4.1.png" alt="modification du fichier "></li>
<li><img src="github-modification-readme-4.2.png" alt="commit du fichier "></li>
</ol>
<p>Notre nouveau commit :</p>
<ol>
<li>Notre fichier modifié est maintenant <img src="github-modification-readme-5.1.png" alt="fichier"></li>
<li>Son historique montre qu'il a été modifié par 2 commit <img src="github-modification-readme-5.2.png" alt="fichier"></li>
<li>Le dernier commit a modifié son contenu <img src="github-modification-readme-5.3.png" alt="fichier"></li>
</ol>
<h2>Changer de branche</h2>
<p>Je suis content de mon projet, mais soit :</p>
<ul>
<li>j'aimerai tester des modifications sans être sûr de les conserver</li>
<li>j'aimerai corriger un bug mais sa correction risque de prendre un peu de temps</li>
</ul>
<p>De plus, je ne voudrai pas juste travailler dans mon coin et tout commiter une fois que ce sera fini car :</p>
<ul>
<li>le travail risque de prendre du temps et plusieurs commits</li>
<li>si je travaille dans mon coin, lorsque j'aurai fini, les autres membres du projets auront certainement modifié le code.</li>
</ul>
<p>La solution à ce problème consiste à ajouter <strong>une branche</strong> au projet.</p>
<h3>Création d'une nouvelle branche</h3>
<ol>
<li><img src="github-branches-1.png" alt="branches"></li>
<li>On clique :
<ul>
<li>pour ajouter une nouvelle branche : <img src="github-branches-2.1.png" alt="ajout d'une branche"></li>
<li>on indique son nom et la branche à copier : <img src="github-branches-2.2.png" alt="paramètres de la branche"></li>
</ul>
</li>
<li>On peut maintenant changer de branche :
<ul>
<li>on retourne à la page de gestion de projet et on voit qu'on a 2 branches : <img src="github-branches-3.1.png" alt="plusieurs branches"></li>
<li>passage sur une autre branche : <img src="github-branches-3.2.png" alt="passage à la nouvelle branche"></li>
</ul>
</li>
</ol>
<h3>Travail sur la nouvelle branche</h3>
<ol>
<li>ajout d'un fichier : <img src="github-feature-1.png" alt="ajout fichier"></li>
<li>modification d'un fichier : <img src="github-feature-2.png" alt="modification"></li>
</ol>
<p>On obtient alors les commits sur la branches feature :</p>
<p><img src="github-feature-3.png" alt="commits sur la branche feature"></p>
<p>Les 3 premiers commits sont communs à la branche main (allez dans <em>&quot;insights/network&quot;</em> pour voir le graphe de dépendances) :</p>
<p><img src="github-feature-4.png" alt="graphe de dépendances"></p>
<p>Pour bien voir que les branches sont indépendantes, ajoutons un commit sur la branche main, en modifiant le fichier <code class="fichier">programme.txt</code> :</p>
<p><img src="github-feature-5.png" alt="ajout commit dans la branche main"></p>
<p>Le graphe de dépendance à maintenant deux histoires qui divergent :</p>
<p><img src="github-feature-6.png" alt="graphe de dépendances suite"></p>
<h3>Fusion de branches</h3>
<p>Notre feature est terminée, nous voulons ajouter ses modifications dans la banche main. Ceci n'est pas possible directement car il y a également eu des modifications dans la branche main.</p>
<p>Il faut amener les modifications de la branche <code>feature</code> dans la branche <code>main</code> sans tout casser. Git permet de faire ceci avec deux opérations :</p>
<ul>
<li>merge</li>
<li>rebase</li>
</ul>
<h4>merge</h4>
<p>La situation actuelle est celle-ci :</p>
<pre class="language-text" tabindex="0" data-language="text"><code class="language-text">main : A -> B -> C -> F
                  \
feature :          -> D -> E
</code></pre>
<p>Et nous voulons arriver à ceci :</p>
<pre class="language-text" tabindex="0" data-language="text"><code class="language-text">main : A -> B -> C -> F ----> G
                  \          /
feature :           -> D -> E
</code></pre>
<p>Il faut fusionner (<code>merge</code>) la branche <code>feature</code> dans la branche <code>main</code> puis supprimer <code>feature</code> car elle n'est plus utile.</p>
<p>Pour cela :</p>
<ol>
<li>on va créer une <code>pull request</code> : <img src="github-merge-1.png" alt="pull request"></li>
<li>ce qu'on veut : <img src="github-merge-2.png" alt="pull request"></li>
<li>ce n'est pas possible de faire ça automatiquement car il y a des mélanges de lignes : <img src="github-merge-3.png" alt="pull request diff"> L'ajout de fichier s'est passé sans problème en revanche, git le fait tout seul.</li>
<li>On clique sur <code>create pull request</code> pour créer la requête : <img src="github-merge-4.png" alt="requête créée"></li>
<li>En cliquant sur la requête, on voit qu'elle ne peut être résolue automatiquement : <img src="github-merge-5.1.png" alt="requête conflits"></li>
<li>Qui sont dans le fichier <code>programme.txt</code>: <img src="github-merge-5.2.png" alt="requête conflits diff"></li>
<li>Chaque conflit (il peut y en avoir plusieurs par fichier) est toujours représenté comme ça :</li>
</ol>
<pre class="language-text" tabindex="0" data-language="text"><code class="language-text"><<<<<< [nom d'une branche ou d'un commit]
[contenu de la branche]
====== autre branche
[contenu de l'autre branche]
>>>>>> [nom de l'autre branche ou de l'autre commit]</code></pre>
<p>Résoudre un confit consiste à choisir une branche ou à faire un mélange des branches pour arriver à un texte sans les <code>&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>&gt;&gt;&gt;&gt;&gt;&gt;</code> et <code>=====</code>. Puis cliquez sur `mark as resolved Pour notre problème : <img src="github-merge-6.png" alt="résolution"></p>
<p>Une fois la fusion exécutée, notre graphe de dépendance est :</p>
<p><img src="github-merge-7.png" alt="graphe de dépendance après fusion"></p>
<p>On peut alors supprimer la branche <code>feature</code> qui ne nous est plus d'aucune utilisée. On ne peut donc plus faire de commits sur cette branche, mais son existence est conservée dans l'historique :</p>
<p><img src="github-merge-8.png" alt="graphe de dépendance suppression de la branche"></p>
<h4>annuler un commit</h4>
<p>L'opération <code>revert</code> permet de revenir en arrière et d'annuler un commit ou un <em>&quot;pull request&quot;</em> (le commit fautif n'est pas supprimé).</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Supprimer un commit n'est pas une opération recommandée lorsque des collaborateur ont pu avoir accès à celui-ci. Cela les désynchroniseraient. On préfère faire un <code>commit revert</code> qui crée un commit qui revient en arrière : on ne supprime pas le commit fautif, on l'annule en refaisant le contraire de ce qu'il a fait. Ceci assure que les utilisateurs restent synchronisés.</p>
</div></div>

<p>Nous allons ici <em>annuler</em> notre pull request :</p>
<ol>
<li><img src="github-revert-1.png" alt="pull request revert 1"></li>
<li><img src="github-revert-2.png" alt="pull request revert 2"></li>
<li><img src="github-revert-3.png" alt="pull request revert 3"></li>
</ol>
<p>Nous venons de créer une <code>pull request</code> pour supprimer une pull request. On peut maintenant la résoudre :</p>
<p><img src="github-revert-4.png" alt="pull request revert 4"></p>
<p>Et on se retrouve comme avant le merge, avec un graphe de dépendance encore un peu plus compliqué :</p>
<p><img src="github-revert-5.png" alt="pull request revert 5"></p>
<p>Git se débrouille tout seul</p>
<h2>Ajouter des collaborateurs au projet</h2>
<p>C'est très facile :</p>
<ol>
<li><img src="github-ajout-1.png" alt="ajout-1"></li>
<li><img src="github-ajout-2.png" alt="ajout-2"></li>
<li>sur le compte invité, on peut accepter l'invitation : <img src="github-ajout-3.png" alt="ajout-3"></li>
<li>de retour dans l'interface du projet, on voit les collaborateurs : <img src="github-ajout-4.png" alt="ajout-4"></li>
</ol>
<p>Toutes les personnes peuvent maintenant ajouter et modifier des fichiers</p>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>