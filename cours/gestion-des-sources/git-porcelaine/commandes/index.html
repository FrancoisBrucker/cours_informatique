<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Commandes git</title>

    

    <link href="https://prismjs.catppuccin.com/latte.css" rel="stylesheet">

    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <script src="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1 class="mb-1">Commandes git</h1>
  <div class="mb-4">
    

    
      <div class=" px-4 flex items-center">
        
          <div class="font-bold">Auteurs : </div>
        
        <ul class="flex not-prose list-none my-0 last:after:content-['•'] last:after:px-1 mx-0 px-1">
          
            <li class="before:content-['•'] before:px-1">François Brucker</li>
          
            <li class="before:content-['•'] before:px-1">Fanis Michalakis</li>
          
        </ul>
      </div>
    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/">Gestion du code source</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/git-porcelaine/">Git porcelaine</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/gestion-des-sources/git-porcelaine/commandes/">Commandes git</a>

</div></div>



    
  

  <blockquote>
<p>TBD vérifier que switch est bien utilisé et mettre restore <a href="https://www.infoq.com/news/2019/08/git-2-23-switch-restore/">https://www.infoq.com/news/2019/08/git-2-23-switch-restore/</a></p>
</blockquote>
<p>Les commandes git indispensables à connaître</p>
<p>Ce tutoriel comporte deux sections :</p>
<ol>
<li>La section <a href="#comment-faire" class="interne">Comment faire</a> qui donne la marche à suivre pour les opérations courantes,</li>
<li>La section <a href="#cheatsheet" class="interne">Cheatsheet</a>, un tableau récapitulant les commandes les plus utiles et leurs variations (notamment les options qu'il est important de connaître).</li>
</ol>
<p>L'idée est donc de pouvoir utiliser ce tuto de deux façons : soit avec une idée de ce qu'on veut faire, obtenir les différentes commandes à utiliser ; soit pour se rafraîchir la mémoire sur une commande bien précise.</p>
<h2><span id="comment-faire"></span> Comment faire ?</h2>
<h3><span id="clone-projet"></span> Récupérer (cloner) en local un projet existant</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>on souhaite travailler sur un projet donc le code est disponible sur Github (ou équivalent). Pour ce faire, on va cloner le répertoire en local sur sa machine.</p>
</div></div>

<p>C'est aussi la façon la plus simple d'initialiser un projet github. Une fois le <a href="https://docs.github.com/en/get-started/quickstart/create-a-repo">projet crée sur github</a></p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> clone <span class="token operator">&lt;</span>url<span class="token operator">></span></code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://git-scm.com/docs/git-clone">https://git-scm.com/docs/git-clone</a></p>
</div></div>

<p><code>&lt;url&gt;</code> sera ce qui est copié depuis la page du projet :</p>
<p><img src="github-clone-projet.png" alt="usage github"></p>
<p>Et aura deux formes :</p>
<ul>
<li><code>git@github.com:&lt;USER&gt;/&lt;mon projet&gt;.git</code>. Si vous utilisez cette méthode,vous vous authentifierez avec vos clés ssh.</li>
<li>par http : <code>git remote add origin https://github.com/&lt;USER&gt;/&lt;monprojet&gt;.git</code>. Si vous utilisez cette méthode vous vous authentifierez avec un <a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">token</a>.</li>
</ul>
<h3>Initialiser un nouveau projet</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>On va créer en local notre nouveau projet, créer un répertoire sur GitHub et lier les deux.</p>
</div></div>

<p>En quatre étapes :</p>
<ol>
<li>Création du répertoire sur Github</li>
<li>Création du répertoire en local</li>
<li>Initialisation de git</li>
<li>Les liaisons (pas dangereuse)</li>
</ol>
<h4>Création du répertoire sur Github</h4>
<p>Pour cette première étape, opérez depuis un <a href="https://github.com/new">navigateur</a> (<a href="https://docs.github.com/en/get-started/quickstart/create-a-repo">tuto sur github</a>) :</p>
<ul>
<li>donnez un nom à votre répertoire</li>
<li>choisissez un répertoire public</li>
<li>vous pouvez ensuite créer le répertoire en cliquant sur le bouton <em>create repository</em></li>
</ul>
<p>Une fois le dossier crée, github vous aide pour lier ce répertoire à un projet de votre ordinateur.</p>
<h4>Création du répertoire en local</h4>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>là où on veut mettre le dossier<span class="token operator">></span>
<span class="token function">mkdir</span> <span class="token operator">&lt;</span>mon projet<span class="token operator">></span></code></pre>
</div></div>

<h4>Initialisation de git</h4>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>mon projet<span class="token operator">></span>
<span class="token function">git</span> init</code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://git-scm.com/docs/git-init">https://git-scm.com/docs/git-init</a></p>
</div></div>

<h4>Liaisons</h4>
<p>Si vous voulez vous connecter, il y a deux possibilités :</p>
<ul>
<li>par SSH : <code>git remote add origin git@github.com:&lt;USER&gt;/&lt;mon projet&gt;.git</code>. Si vous utilisez cette méthode,vous vous authentifierez avec vos clés ssh.</li>
<li>par http : <code>git remote add origin https://github.com/&lt;USER&gt;/&lt;monprojet&gt;.git</code>. Si vous utilisez cette méthode vous vous authentifierez avec un <a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">token</a>.</li>
</ul>
<p>Votre premier push devra aussi définir la branche de l'origin : <code>git push --set-upstream.origin main</code>. Vous pourrez ensuite utiliser simplement <code>git push</code></p>
<h3>Travailler à plusieurs sur un projet</h3>
<ol>
<li>on sépare le travail à faire en tâche, et on s'arrange pour les taches à effectuer en même temps soient sur des parties différentes du code. Ceci pour éviter de se marcher sur les pieds et multiplier inutilement les conflits de fusion.</li>
<li>pour coder sa propre tâche, on crée une branche de développement qui lui nous est propre et sur laquelle vous pourrez travailler en local, voir la sauver sur le serveur. Comme vous êtes seul à travailler dessus, vous n'aurez pas de problème de fusion.</li>
<li>Une fois votre travail fini, vous rebasez votre branche local sur la branche principale du serveur distant, qui est souvent la branche main.</li>
<li>vous pouvez ensuite supprimer la branche qui vous a servi à coder la tâche et recommencer.</li>
</ol>
<h3>Récupérer en local les modifications effectuées sur le répertoire distant</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>Sur un projet informatique, il arrive souvent que plusieurs développeurs travaillent de concert (c'est d'ailleurs toute l'utilité d'un logiciel tel que git). Afin de rester synchronisé avec le travail des collègues, on est régulièrement amené à télécharger depuis le serveur commun les apports qu'ils y ont déposé.</p>
</div></div>

<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<p>Depuis la racine du projet (là où se trouve le dossier .git) :</p>
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> pull <span class="token parameter variable">--rebase</span><span class="token operator">=</span>merges</code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://git-scm.com/docs/git-pull">https://git-scm.com/docs/git-pull</a></p>
</div></div>

<p>En général, l'url peut être trouvée sous le menu &quot;Code&quot; ou &quot;Clone&quot; sur la page principale d'un projet.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Vous pouvez utiliser juste <code>git pull</code> si votre stratégie de fusion est placée par défaut à <code>rebase=merges</code>. dans le doute, utilisez la commande ci-dessus.</p>
</div></div>

<h3>Créer une nouvelle branche</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>Pour travailler sur un aspect particulier, qu'il s'agisse d'une résolution de bug ou de l'élaboration d'une nouvelle fonctionnalité, on veut créer une nouvelle branche. Cette nouvelle branche va dériver d'une branche-mère (en général, il s'agit de la branche <code>main</code> comme dans notre exemple).</p>
</div></div>

<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> switch main
<span class="token function">git</span> branch ma_nouvelle_branche
<span class="token function">git</span> switch ma_nouvelle_branche</code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li><a href="https://git-scm.com/docs/git-switch">https://git-scm.com/docs/git-switch</a></li>
<li><a href="https://git-scm.com/docs/git-branch">https://git-scm.com/docs/git-branch</a></li>
</ul>
</div></div>

<h3>Pousser une branche (nouvelle) locale sur le serveur distant</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>On a créé en local une nouvelle branche, qui n'existe pas encore sur le serveur distant. On souhaite créer la branche du même nom sur le serveur distant et pousser nos modifications dessus.</p>
</div></div>

<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> switch <span class="token operator">&lt;</span>branche<span class="token operator">></span>
<span class="token function">git</span> push --set-upstream origin <span class="token operator">&lt;</span>branche<span class="token operator">></span></code></pre>
<p>Version condensée :</p>
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> switch <span class="token operator">&lt;</span>branche<span class="token operator">></span>
<span class="token function">git</span> push <span class="token parameter variable">-u</span> origin <span class="token operator">&lt;</span>branche<span class="token operator">></span></code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li><a href="https://git-scm.com/docs/git-switch">https://git-scm.com/docs/git-switch</a></li>
<li><a href="https://git-scm.com/docs/git-push">https://git-scm.com/docs/git-push</a></li>
</ul>
</div></div>

<h3>Pousser ses modifications sur le serveur</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>On veut &quot;enregistrer&quot; les modifications apportées au code et les partager avec ses collaborateurs en les poussant sur le serveur. On peut décomposer la marche à suivre en deux grandes étapes :</p>
<ol>
<li>On ajoute localement ses modifications à l'historique git, suivant la fréquence qui nous convient le mieux</li>
<li>On pousse tout ça sur le serveur.</li>
</ol>
</div></div>

<p>La fréquence d'ajout des modifications au git est variable suivant les développeurs. Certains aiment faire un gros ajout (<em>commit</em>) une fois de temps en temps, quand d'autres sont partisans de <em>commits</em> dits atomiques (pour chaque modification), quitte à retravailler ensuite l'historique ensuite pour le rendre plus concis si besoin.</p>
<p>Concernant la fréquence d'envoi sur le serveur (<em>push</em>), la seule règle vraiment importante est de bien avoir en tête que, tant que du code n'est pas poussé, il n'existe que sur votre ordinateur. Et si celui-ci est endommagé ou perdu ... Un <em>push</em> régulier est donc gage d'esprit léger !</p>
<h4>Ajout des modifications</h4>
<p>L'ajout des modifications au git se fait en plusieurs étapes : on ajoute d'abord les modifications qui nous intéressent au <em>stage</em>, puis on les <em>commit</em>. On peut voir le <em>stage</em> comme une sorte de bassine où l'on dépose tous les fichiers que l'on veut sauver.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<p>On souhaite <em>commit</em> seulement quelques fichiers spécifiques :</p>
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> <span class="token function">add</span> fichier1.md fichier2.html
<span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">"&lt;mon message décrivant le commit>"</span></code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li><a href="https://git-scm.com/docs/git-add">https://git-scm.com/docs/git-add</a></li>
<li><a href="https://git-scm.com/docs/git-commit">https://git-scm.com/docs/git-commit</a></li>
</ul>
</div></div>

<p>En général, on a pris soin de placer les fichiers qu'on ne veut de toute façon pas voir dans git dans le fichier <code class="fichier">.gitignore</code>. Donc, souvent, on va vouloir tout ajouter dans le stage pour tout commit :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<p>Si l'on souhaite prendre en compte les ajouts, les modifications et les suppressions de tous les fichiers :</p>
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">--all</span>
<span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">"&lt;mon message décrivant le commit>"</span></code></pre>
<p>Ou la commande suivante qui ajoute toutes les modifications et créations mais pas les suppression de tous les fichiers :</p>
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">"&lt;mon message décrivant le commit>"</span></code></pre>
<p>Enfin, si on ne veux que prendre en compte toutes les modifications et les suppressions sans les nouveaux fichiers :</p>
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-u</span>
<span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">"&lt;mon message décrivant le commit>"</span></code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li><a href="https://git-scm.com/docs/git-add">https://git-scm.com/docs/git-add</a></li>
<li><a href="https://git-scm.com/docs/git-commit">https://git-scm.com/docs/git-commit</a></li>
</ul>
</div></div>

<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p><code>git status</code> est très utile pour voir ce qui est dans le <em>stage</em> et ce qui n'y est pas encore. Abusez-en !</p>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://git-scm.com/docs/git-status">https://git-scm.com/docs/git-status</a></p>
</div></div>

<h4>Pousser sur le serveur</h4>
<p>Une fois qu'on a <em>commit</em> nos changements, que tout est testé (mais c'est un autre sujet), etc., on va pouvoir pousser notre code sur le serveur. Rien de plus simple :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> push</code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://git-scm.com/docs/git-push">https://git-scm.com/docs/git-push</a></p>
</div></div>

<p>Si la branche sur laquelle on travaille existe aussi sur le serveur et que les deux branches sont liées, tout devrait bien se passer. Sinon, c'est qu'on a mal fait <a href="#pousser-une-branche-nouvelle-locale-sur-le-serveur-distant">ça</a>.</p>
<h3>Fusionner une branche</h3>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Description</strong></p>
</div><div class="pl-8 mr-8">
<p>On souhaite fusionner une branche dans sa branche d'origine (par exemple <code>main</code>), c'est-à-dire appliquer toutes les modifications portées par une branche dans sa branche d'origine.</p>
</div></div>

<p>Nous proposons ici une méthode consistant à utiliser <code>git rebase</code> conjointement à <code>git merge</code> pour obtenir un historique plus &quot;propre&quot; (i.e. plus linéaire). Pour plus détails, voir le tuto sur git rebase. Pour ne garder aucune trace de la branche (et obtenir ainsi un historique complètement linéaire, plat) :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Commandes</strong></p>
</div><div class="pl-8 mr-8">
<pre class="language-shell" tabindex="0" data-language="shell"><code class="language-shell"><span class="token function">git</span> rebase main branche
<span class="token function">git</span> switch main
<span class="token function">git</span> merge branche
<span class="token function">git</span> branch <span class="token parameter variable">-d</span> branche</code></pre>
</div></div>

<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li><a href="https://git-scm.com/docs/git-rebase">https://git-scm.com/docs/git-rebase</a></li>
<li><a href="https://git-scm.com/docs/git-switch">https://git-scm.com/docs/git-switch</a></li>
<li><a href="https://git-scm.com/docs/git-merge">https://git-scm.com/docs/git-merge</a></li>
<li><a href="https://git-scm.com/docs/git-branch">https://git-scm.com/docs/git-branch</a></li>
</ul>
</div></div>

<h2><span id="cheatsheet"></span>Cheatsheet</h2>
<p>Par ordre alphabétique ;)</p>
<p>| Commande | Effet | Option(s) |
| -------- | ----- | --------- ||
| <code>git add &lt;fichier&gt;</code>          | ajoute des fichiers au stage en vue de les commit                                                                                                                                                                                                                         | <code>git add .</code> pour ajouter tous les fichiers modifiés                                                                                                                                                                                                     |
| <code>git branch</code>                 | affiche les branches existantes (en local, par défaut). La branche actuelle est mise en évidence par un astérisque                                                                                                                                                        | <code>-d &lt;branche&gt;</code> supprime la branche <em>branche</em>                                                                                                                                                                                                            |
| <code>git clone &lt;url&gt;</code>            | clone en local un répertoire distant                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                         |
| <code>git commit</code>                 | publie les changements dans l'arbre git local                                                                                                                                                                                                                             | <code>-a</code> commit tous les changements présents dans le stage <br> <code>-m &quot;mon_message&quot;</code> permet d'écrire le message de commit sans passer par l'éditeur                                                                                                          |
| <code>git diff</code>                   | indique les différences entre le dernier commit et ce qui n'est pas encore mis dans le <em>stage</em>                                                                                                                                                                            |                                                                                                                                                                                                                                                         |
| <code>git init</code>                   | initialise git pour le dossier où la commande est lancée                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                         |
| <code>git log</code>                    | affiche l'historique git complet du projet                                                                                                                                                                                                                                | <code>--oneline</code> affiche les commits sous forme condensée pour plus de lisibilité <br> <code>--graph</code> représentation visuelle de l'arbre (avec les branches éventuelles)                                                                                          |
| <code>git merge &lt;branche&gt;</code>        | applique les modifications portées par &quot;<branche>&quot; à la branche mère dont elle est issue                                                                                                                                                                                  | <code>--no-ff</code> (<em>no fast forward</em>) permet de créer un commit de fusion dans tous les cas, même cas quand la fusion pourrait être résolue trivialement (<em>fast-forward</em>). Utile pour conserver l'historique des branches lors d'un <em>merge</em> suivant un <em>rebase</em> |
| <code>git pull</code>                   | télécharge en local les modifications présentes sur le serveur (<em>a priori</em> ajoutées par d'autres développeurs)                                                                                                                                                            | <code>--rebase=preverse</code> permet de conserver les commits de fusion, utile pour garder une trace de l'existence de certaines branches                                                                                                                         |
| <code>git push</code>                   | pousse sur le serveur les modifications locales                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                         |
| <code>git rebase &lt;ici&gt; &lt;branche&gt;</code> | découpe la branche <code>branche</code> à sa base et la recolle <code>ici</code>. <code>ici</code> peut-être le nom d'une branche, auquel cas la branche <code>branche</code> est recollée à la fin de la branche <code>ici</code>, ou un numéro de commit. Voir le tuto complet sur rebase.                                     | X                                                                                                                                                                                                                                                       |
| <code>git stash</code>                  | permet de mettre temporairement de côté les modifications en attente de <em>commit</em> afin de revenir au dernier <em>commit</em>. Les modifications ainsi mises de côté peuvent ensuite être réappliqués (éventuellement après que d'autres commits ont été effectués) ou supprimées. | <code>git stash list</code> pour lister les éléments mis de côté <br> <code>git stash apply</code> pour faire revenir les modifications dans l'espace de travail <br> <code>git stash clear</code> pour abandonner complètement les modifications mises de côté                          |
| <code>git status</code>                 | affiche les fichiers prêts à être <em>commit</em> et ceux qui ne sont pas encore dans le <em>stage</em>                                                                                                                                                                                 |                                                                                                                                                                                                                                                         |
| <code>git switch &lt;branche&gt;</code>       | change de branche pour aller sur &quot;branche&quot;                                                                                                                                                                                                                                |        <code>git switch -c &lt;nouvelle-branche&gt;</code> pour créer une nouvelle branche et y switcher directement                                                                                                                                                                                                                                                 |</branche></p>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique de François Brucker
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>