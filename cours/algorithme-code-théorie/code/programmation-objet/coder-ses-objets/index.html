<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Coder ses objets</title>

    <link href="/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>Coder ses objets</h1>
  <div>
    

    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/">Algorithme, code et théorie</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/code/">Code</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/code/programmation-objet/">Programmation Objet</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/code/programmation-objet/coder-ses-objets/">Coder ses objets</a>

</div>
</div>


    
      
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8  mb-2 mr-8">

<b>Prérequis :</b>

</div><div class="pl-8 mr-8">


      <ul>
              
              <li>
                <a href="/cours_informatique/cours/algorithme-code-théorie/code/programmation-objet/classes-et-objets/">Classes et objets</a>
              </li>
              
              <li>
                <a href="/cours_informatique/cours/algorithme-code-théorie/code/projet-pourcentages/">Projet pourcentage</a>
              </li></ul>
      

</div>
</div>

    
  

  <!-- début résumé -->
<p>Exemple complet d'utilisation de vscode pour créer des objets en python en prenant pour exemple les objets et les classes crées lors du cours <a href="../classes-et-objets">classes et objets</a>.</p>
<!-- end résumé -->
<h2>Création du projet</h2>
<p>On suit les directives du <a href="../../projet-pourcentages#mise-en-place">projet pourcentages</a> pour créer un nouveau projet :</p>
<ol>
<li>on crée un dossier <code class="fichier">coder-objets</code> dans un explorateur de fichier</li>
<li>on ouvre le dossier <code class="fichier">coder-objets</code> avec vscode, ce qui crée notre projet</li>
<li>on crée un nouveau fichier <code class="fichier">main.py</code> où l'on écrit <code class="language-">print(&quot;hello world !&quot;)</code></li>
</ol>
<h3>Exécution du projet</h3>
<ol>
<li>assurez vous d'être dans l'onglet contenant le fichier <code class="fichier">main.py</code> de vscode</li>
<li>cliquez sur le triangle en haut à droite de la fenêtre pour exécuter le programme.</li>
</ol>
<p>Vous devriez obtenir quelque chose du genre :</p>
<p><img src="ex%C3%A9cution-python.png" alt="exécution python"></p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Lisez le tutorial <a href="/cours_informatique/tutoriels/vsc-python#ex%C3%A9cuter-programme">vsc et python</a> pour en savoir plus sur l'exécution de programmes python avec vscode.</p>
</div>
</div>
<h2>Coder ses objets : le compteur</h2>
<p>Nous allons reprendre l'exemple du cours <a href="../classes-et-objets">classes et objets</a>, avec le compteur. On sait que l'on veut arriver à la modélisation UML suivante :</p>
<p><img src="../classes-et-objets/classes-2.png" alt="uml compteur"></p>
<p>On va coder petit à petit la classe.</p>
<h3>Préparation du projet</h3>
<p>Notre projet est pour l'instant organisé de cette manière :</p>
<pre class="language-text " style="counter-reset: linenumber 0"><code class="language-text">coder-objets
└── main.py
</code></pre>
<p>Nous allons avoir besoin d'un objet <code>Compteur</code> donc :</p>
<ol>
<li>on crée un fichier un fichier <code class="fichier">compteur.py</code> dans notre projet</li>
<li>on crée la classe <code class="language">Compteur</code> la plus petite possible</li>
<li>on importe et on crée un objet de classe <code class="language">Compteur</code> dans le programme principal</li>
</ol>
<h4>classe <code class="language">Compteur</code> minimale</h4>
<p>Fichier <code class="fichier">compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python">
<span class="token keyword">class</span> <span class="token class-name">Compteur</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

</code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>Conventions</strong></p>
</div><div class="pl-8 mr-8">
<ul>
<li>les <strong>noms</strong> de classe commencent par une <strong>majuscule</strong></li>
<li>l'implémentation de la classe est placée dans un <strong>fichier</strong> de même nom mais avec une <strong>minuscule</strong></li>
</ul>
</div>
</div>
<p>On a utilisé l'instruction <a href="https://www.docstring.fr/glossaire/pass/"><code class="language-">pass</code></a> qui ne fait rien. Nous l’utilisons ici car la définition d'une classe crée un bloc (il y a un <code>:</code>) et que tout bloc <strong>doit</strong> contenir une instruction.</p>
<h4>création d'un objet dans le programme principal</h4>
<p>Fichier <code class="fichier">main.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur

c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
<p>Lorsque l'on exécute le programme <code class="fichier">main.py</code> il ne se passe rien. C'est une bonne nouvelle ! Ca signifie que notre programme n'a pas d'erreur et qu'un objet a bien été créé.</p>
<h4>Convertir notre essai en test</h4>
<p>Lorsque l'on programme, on fait constamment des tests pour vérifier que le programme fonctionne. Lorsque notre programme grossi, on a tendance à ne tester <strong>que</strong> les nouvelles fonctionnalités et non pas de <strong>vérifier</strong> que les anciennes fonctionnent toujours.</p>
<p>De plus, on a souvent oublié commet on avait fait pour tester nos anciennes fonctionnalités. C'est bête ! Autant garder nos tests pour pouvoir les exécuter à chaque modification de code.</p>
<p>Enfin, un programme informatique (en vrai, pas en TD où il ne dure que 2h) n'est <strong>jamais</strong> fini. On va travailler à ce programme pendant des semaines, voir des mois et pour certains des années. On ne peux donc pas :</p>
<ol>
<li>décider au départ tout ce qu'on va coder puis stopper le développement.</li>
<li>coder chaque classe indépendamment des autres. Le code d'une classe va influer sur le code d'une autre</li>
</ol>
<p>Les deux points ci-dessus impliquent que :</p>
<ol>
<li>il faut retester les classes déjà écrites lorsque l'on en code de nouvelles à cause des effets de bords possibles</li>
<li>il faut parfois modifier des classes que l'on a écrite précédemment et donc il faut retester toutes leurs fonctionnalités.</li>
</ol>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li>tester ses classes est une nécessité</li>
<li>il faut conserver ses tests pour ne pas avoir à les re-écrire à chaque fois</li>
</ul>
</div>
</div>
<p>Pour arriver à ce résultat, nous allons utiliser la boucle de programmation suivante :</p>
<ol>
<li>on code une petite fonctionnalité</li>
<li>on vérifie dans le programme principale ou dans un programme principal de test que cette fonctionnalité fonctionne</li>
<li>on convertit cette vérification en test que l'on conserve</li>
</ol>
<p>Pour l'instant, on crée un objet et on en fait rien. Vérifions qu'il est bien de la bonne classe, <code class="language-">Compteur</code> :</p>
<p>Fichier <code class="fichier">main.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur

c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>En exécutant le fichier main, on obtient :</p>
<pre><code>» python main.py
&lt;class 'compteur.Compteur'&gt;
</code></pre>
<p>C'est de la classe <code class="language-">Compteur</code>. Améliorons notre vérification en utilisant la fonction python <a href="https://docs.python.org/fr/3/library/functions.html#isinstance"><code class="language-">isinstance</code></a>.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Une <em>instance</em> d'une classe est un objet de celle-ci.</p>
<p>Les termes <em>objets</em> et <em>instance</em> sont donc équivalents.</p>
</div>
</div>
<p>Fichier <code class="fichier">main.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur

c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> Compteur<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>En exécutant le fichier main dans le terminal, j'obtiens :</p>
<pre><code>» /usr/local/bin/python3 main.py
True
</code></pre>
<p>Notre vérification est juste :</p>
<ul>
<li>notre vérification rend <code class="language-">True</code> si l'objet crée est de la classe compteur</li>
<li>notre vérification rend <code class="language-">False</code> sinon</li>
</ul>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Ne confondez pas <code class="language-">Compteur</code>, <strong>la classe</strong> et <code class="language-">Compteur()</code> qui est le <strong>résultat</strong> de l'exécution de la classe, c'est à dire un objet.</p>
</div>
</div>
<p>Maintenant que notre vérification est transformée en quelque chose qui doit <code class="language-">True</code> ou <code class="language-">False</code>, on peut la transformer en un test. Pour cela on crée un fichier <code class="fichier">test_compteur.py</code> qui retranscrit notre vérification:</p>
<p>Fichier <code class="fichier">test_compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur


<span class="token keyword">def</span> <span class="token function">test_constructeur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> Compteur<span class="token punctuation">)</span>

</code></pre>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Exécutez les tests de votre projet et vérifier que le test passe bien.</p>
</div>
</div>
<p>A la fin de cette partie, notre projet ressemble à :</p>
<pre class="language-text " style="counter-reset: linenumber 0"><code class="language-text">coder-objets
├── compteur.py
├── main.py
└── test_compteur.py
</code></pre>
<h3>Coder l'attribut <code class="language-">valeur</code></h3>
<p>Maintenant qu'on est assuré que l'on peut créer des objets, on peut améliorer les fonctionnalités de notre compteur (c'est facile, pour l'instant il ne fait rien). On décide de commencer par ajouter l'attribut <code class="language-">valeur</code> et son accesseur <code class="language-">donne_valeur()</code></p>
<p>On utilise la boucle de programmation vue précédemment :</p>
<ol>
<li>on code une petite fonctionnalité</li>
<li>on vérifie dans le programme principale ou dans un programme principal de test que cette fonctionnalité fonctionne</li>
<li>on convertit cette vérification en test que l'on conserve</li>
</ol>
<p>Donc dans notre cas :</p>
<h4>Coder l'attribut</h4>
<p>Fichier <code class="fichier">compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Compteur</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>valeur <span class="token operator">=</span> <span class="token number">0</span>

</code></pre>
<h4>Vérification du fonctionnement de l'attribut</h4>
<p>Fichier <code class="fichier">main.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur

c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>valeur<span class="token punctuation">)</span>
</code></pre>
<p>puis, une fois que tout marche :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur

c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>valeur <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>bonne pratique</strong></p>
</div><div class="pl-8 mr-8">
<p>Lorsque l'on teste un objets et ses méthodes, on essaie dans la mesure du possible de ne pas avoir besoin des attributs de classes. On ne vérifie que les résultats de la méthode, pas comment l'objet stocke ses informations.</p>
<p>On teste des <strong>fonctionnalités</strong> pas une <strong>implémentation particulière de celles-ci</strong>.</p>
</div>
</div>
<h4>Test de la fonctionnalité</h4>
<p>On <strong>ajoute</strong> le test à notre fichier de test, pour avoir :</p>
<p>Fichier <code class="fichier">test_compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur


<span class="token keyword">def</span> <span class="token function">test_constructeur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> Compteur<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">test_valeur_initiale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> c<span class="token punctuation">.</span>valeur <span class="token operator">==</span> <span class="token number">0</span>

</code></pre>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On ne supprime pas d'anciens tests, sinon on perd tout les bénéfices de programmer des tests.</p>
</div>
</div>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Exécutez les tests pour votre projet et vérifiez que tout fonctionne.</p>
</div>
</div>
<p>L'exécution des tests via le terminal donne alors :</p>
<pre><code>» /usr/local/bin/python3 -m pytest
========================================================== test session starts ===========================================================
platform darwin -- Python 3.9.13, pytest-6.2.5, py-1.10.0, pluggy-1.0.0
rootdir: /Users/fbrucker/Documents/sous_git/cours_informatique/docs/src/cours/algorithme-code-théorie/code/programmation-objet/coder-ses-objets/coder-objets
plugins: dash-1.19.0, cov-3.0.0
collected 2 items                                                                                                                        

test_compteur.py ..                                                                                                                [100%]

=========================================================== 2 passed in 0.02s ============================================================
</code></pre>
<p>Les deux tests sont passés.</p>
<h3>Coder incrémente <code class="language-">incrémente</code></h3>
<p>On procède de la même manière pour incrémente.</p>
<h4>Code de la méthode <code class="language-">incrémente</code></h4>
<p>Fichier <code class="fichier">compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Compteur</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>valeur <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> incrémente<span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>valeur <span class="token operator">+=</span> <span class="token number">1</span>

</code></pre>
<h4>Vérification du fonctionnement de la méthode</h4>
<p>Fichier <code class="fichier">compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur

c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>

c<span class="token punctuation">.</span>incrémente<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>valeur<span class="token punctuation">)</span>
c<span class="token punctuation">.</span>incrémente<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>valeur<span class="token punctuation">)</span>

</code></pre>
<p>On a mis deux appels à la méthode incrémente, car si on ne garde qu'une unique vérification, on est pas assuré que la valeur incrémente (<code>self.valeur = 1</code> plutôt que <code>self.valeur += 1</code> dans le code de la méthode par exemple).</p>
<h4>Ajout des tests</h4>
<p>Fichier <code class="fichier">test_compteur.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> compteur <span class="token keyword">import</span> Compteur


<span class="token keyword">def</span> <span class="token function">test_constructeur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> Compteur<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">test_valeur_initiale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> c<span class="token punctuation">.</span>valeur <span class="token operator">==</span> <span class="token number">0</span>


<span class="token keyword">def</span> test_incrémente<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Compteur<span class="token punctuation">(</span><span class="token punctuation">)</span>

    c<span class="token punctuation">.</span>incrémente<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> c<span class="token punctuation">.</span>valeur <span class="token operator">==</span> <span class="token number">1</span>

    c<span class="token punctuation">.</span>incrémente<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> c<span class="token punctuation">.</span>valeur <span class="token operator">==</span> <span class="token number">2</span>

</code></pre>
<p>Chaque test doit être indépendant, on recrée donc notre objet <strong>à chaque</strong> test.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Chaque test <strong>ne doit pas</strong> dépendre d'autre chose que lui même. Il ne dot pas dépendre de variables extérieure au test.</p>
</div>
</div>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Exécutez les tests pour votre projet et vérifiez que tout fonctionne.</p>
</div>
</div>
<h2>Améliorer ses objets</h2>
<h3>Le compteur avec paramètres</h3>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Créer des tests en ajoutant les paramètres par défaut de la construction de l'objet du <a href="../classes-et-objets">cours</a>. Cela vous entraînera à modifier des méthodes puis à mettre en concordance les tests.</p>
</div>
</div>
<h3>Comparer des compteurs</h3>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Créer des tests en ajoutant les opérations de comparaison (strictement plus grand, strictement plus petit et égal) du <a href="../classes-et-objets">cours</a>. Cela vous entraînera à modifier des méthodes puis à mettre en concordance les tests.</p>
</div>
</div>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique à l'école centrale Marseille
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>