<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Composition et agrégation</title>

    <link href=/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css rel="stylesheet">
    <link href=/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css rel="stylesheet">

    <link href=/cours_informatique/assets/stylesheets/main.css rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" 
  src=/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1  >Composition et agrégation</h1>
  <div >
    

    
  </div>

  
    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z" />
</svg>
<div class="pl-8 mr-8">

<a href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/">Algorithme, code et théorie</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/code/">Code</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/code/programmation-objet/">Programmation Objet</a><span class="px-1">/</span><a href="/cours_informatique/cours/algorithme-code-théorie/code/programmation-objet/composition-agrégation/">Composition et agrégation</a>

</div>
</div>

  

  
  
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
</svg>
<div class="pl-8  mb-2 mr-8">

<b>Prérequis :</b>

</div><div class="pl-8 mr-8">


  <ul>
    
    <li><a href='/cours_informatique/cours/algorithme-code-théorie/code/programmation-objet/classes-et-objets/'>Classes et objets</a></li></ul>
  

</div>
</div>

  

  <!-- début résumé -->
<p>Le but de cette séance est de consolider les concepts fondamentaux de classe et d'objet et d'ajouter les notions de<br>
composition, d'agrégation et d'attributs de classe.</p>
<!-- end résumé -->
<h2>Liens entre classes</h2>
<p>Composition et agrégation permettent de lier des classes ensembles, et plus principalement lorsqu'une classe admet comme attribut des objets de l'autre classe.</p>
<p>Ce qui les distingue :</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>Définition</strong> :</p>
</div><div class="pl-8 mr-8">
<ul>
<li><em><strong>agrégation</strong></em> : quand les objets utilisés sont créés en dehors de la classe,</li>
<li>*<em><strong>composition</strong></em> : quand les objets utilisés sont créés dans le constructeur de la classe qui les utilise.</li>
</ul>
</div>
</div>
<p>Il est important de comprendre que si des objets n'ont pas été crées dans la classe qui l'utilise, ils peuvent être connus par d'autres méthodes du programme et donc être modifiées par celles-ci.</p>
<p>Les exemples de composition et d'agrégation de <em>la vraie vie</em> sont souvent un peu bizarres. Mais par exemple :</p>
<ul>
<li>Un livre est composé de pages : pour créer le livre on a créé les pages : c'est une <strong>composition</strong></li>
<li>Les télécommandes ont besoin de piles pour fonctionner, mais on peut les remplacer : c'est une <strong>agrégation</strong>.</li>
</ul>
<h2>Schémas uml</h2>
<p>Lorsque l'on utilise la composition ou l'agrégation de nos classes dans des schéma uml, on liera la classe composé (<em>resp.</em> agrégée) à la classe l'utilisant par une flèche. Cette flèche sera différente pour une composition ou une agrégation :</p>
<p><img src="classes-3.png" alt="uml composition et agrégation"></p>
<h2>Exemple du panier de fruit</h2>
<p>Prenons un autre exemple, le panier de fruits. Je voudrais modéliser un panier de fruits. Il doit avoir les propriétés suivantes :</p>
<ul>
<li>il doit être vide initialement</li>
<li>je dois pouvoir ajouter des fruits dans le panier</li>
<li>je dois pouvoir montrer les fruits que j'ai dans le panier</li>
<li>je dois pouvoir reprendre un fruit du panier</li>
</ul>
<h3>Modélisation uml</h3>
<p>Comme à notre habitude commençons par créer une boîte uml presque vide :</p>
<pre class="language-text " style="counter-reset: linenumber 0"><code class="language-text">-----------------------
| Panier              |
|---------------------|
| ?                   |
|---------------------|
| __init__()          |
| ajoute(Fruit)       |
| montre_panier()     |
| supprime(Fruit)     |
-----------------------
</code></pre>
<p>Pour que l'on puisse faire ces différentes méthodes, il faut que <code class="language-">Panier</code> puisse stocker ses fruit. On lui ajoute donc un attribut qui sera une liste.</p>
<pre class="language-text " style="counter-reset: linenumber 0"><code class="language-text">-----------------------
| Panier              |
|---------------------|
| stock: list         |
|---------------------|
| __init__()          |
| ajoute(Fruit)       |
| montre_panier()     |
| supprime(Fruit)     |
-----------------------
</code></pre>
<h3>Composition et agrégation</h3>
<ul>
<li>Le stock est une <strong>composition</strong> : il est créé avec le panier</li>
<li>les fruits sont une <strong>agrégation</strong> : ils sont ajoutés par une méthode dans l'objet.</li>
</ul>
<h3>Code python</h3>
<p>Ceci s'implémente aisément en python :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Panier</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stock <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">ajoute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stock<span class="token punctuation">.</span>append<span class="token punctuation">(</span>fruit<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">montre_panier</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>stock

    <span class="token keyword">def</span> <span class="token function">supprime</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stock<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>fruit<span class="token punctuation">)</span>
</code></pre>
<p>On peut alors utiliser notre classe, par exemple :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python">panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"poire"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>supprime<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h3>Attention</h3>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8 mr-8">
<p>Si une classe est composée d'autres objets, ces parties peuvent être modifiées en dehors de la classe, même pour une composition.</p>
</div>
</div>
<p>Dans notre exemple, une méthode retourne un objet qui est un attribut. Une fois qu'un objet a été <em>donné</em> au monde extérieur on ne contrôle plus son état et il peut être utilisé a priori par n'importe quoi d'autre dans le programme.</p>
<p>Regardez le code suivant :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python">
panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>

copie <span class="token operator">=</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span>

copie<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"champignon"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>On a ajouté un champignon à notre panier sans que l'objet panier ne le sache !</p>
<p>Ce n'est pas forcément un problème, sauf si on vérifiait que ce qu'on ajoute dans le panier doit être un fruit.</p>
<p>Pour que tout se passe comme prévu, il faut donc s'assurer que pour les attributs , soit :</p>
<ol>
<li>on s'en fiche qu'ils changent</li>
<li>on refait un nouvel objet à nous pour s'assurer qu'il ne changera pas</li>
<li>les objets que l'on retourne et qui sont des attributs sont non modifiables (des entiers, réels, chaînes de caractères, tuples, etc)</li>
</ol>
<h4>1ère solution</h4>
<p>La 1ère solution est ce qu'on a pour l'instant.</p>
<h4>2nde solution</h4>
<p>La seconde solution reviendrait à donner un nouveau panier à chaque fois en modifiant la méthode <code class="-">montre_panier()</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Panier</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>

    <span class="token keyword">def</span> <span class="token function">montre_panier</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stock<span class="token punctuation">)</span>
    
    <span class="token comment">#...</span>
</code></pre>
<h4>3ère solution</h4>
<p>Enfin, la dernière solution reviendrait à ne pas pouvoir modifier l'attribut et à le recréer à chaque modification, par exemple dans la méthode <code class="language-">ajoute_fruit()</code>. On utilise un <a href="https://python.doctor/page-apprendre-tuples-tuple-python">tuple</a> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Panier</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
      self<span class="token punctuation">.</span>stock <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># ...</span>

    <span class="token keyword">def</span> <span class="token function">ajoute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        temp<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stock<span class="token punctuation">)</span>
        temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>fruit<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>stock <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
    
    <span class="token comment">#...</span>
</code></pre>
<p>Selon que l'on aura beaucoup d'ajouts ou beaucoup de visualisation du panier, on choisira l'une au l'autre solution. Mais si on a pas d'idée, on préférera <strong>toujours</strong> la 3ème solution qui est la plus robuste.</p>
<p>Le fait d'avoir des objets qui ne se modifient pas est appelé <a href="https://en.wikipedia.org/wiki/Value_object">value object</a>.</p>
<p>Ces objets possèdent des valeurs et des méthodes pour y accéder mais que l'on ne peut pas modifier. La seule façon de changer de valeur c'est de recréer de nouveaux objets. Pour que l'utilisation de ce genre d'objets soit fluide, on fait en sorte qu'ils puissent supporter l'opération <code class="language-">==</code>.</p>
<p>Vous avez utilisé des value objects bien souvent en python comme : les  entiers, les réels ou encore les chaines de caractères. Enfin de nombreux objets modifiables en python ont leur contrepartie non modifiable comme les <code class="language-">tuple</code> qui sont des listes non modifiables ou encore les <code class="language-">frozenset</code> sont des ensembles non modifiables.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<p>Une bonne façon de programmer est de n'utiliser par défaut que des objets non modifiables et que si le besoin s'en fait sentir de les rendre modifiables.</p>
</div>
</div>
<h2>Tests des objets</h2>
<p>Lorsque l'on crée ses propres objets, il est important de tester leurs fonctionnalités. On procède alors ainsi :</p>
<ul>
<li>chaque méthode doit être testée</li>
<li>chaque test doit être indépendant</li>
</ul>
<p>Dans la mesure du possible, on ne teste pas la valeur des attributs. On utilise des méthodes publique pour tester. En effet les attributs montrent l'implémentation de la classe et pas son usage.</p>
<h3>Exemple</h3>
<p>Par exemple, pour notre panier. Fichier <code class="fichier">test_panier.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> panier <span class="token keyword">import</span> Panier


<span class="token keyword">def</span> <span class="token function">test_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> panier <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span>


<span class="token keyword">def</span> <span class="token function">test_montre_panier_vide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">test_ajoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">,</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">test_supprime_dans_panier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
    panier<span class="token punctuation">.</span>supprime<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>

    <span class="token keyword">assert</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<ul>
<li>pour l'initialisation, on vérifie juste que notre objet existe. Comme il n'a pas de paramètre, on ne peut pas tester grand chose d'autre</li>
<li>On crée pour chaque test un nouvel objet, pour être sur que les tests n'interfèrent pas les uns avec les autres</li>
<li>Chaque test doit permettre d'utiliser la méthode testée comme elle doit être utilisée dans le code</li>
</ul>
</div>
</div>
<h2 id="code-final">Code final</h2>
<p>Vous devez avoir 3 fichiers :</p>
<h3>Code de la classe</h3>
<p>Fichier : <code class="fichier">panier.py</code></p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Panier</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stock <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">ajoute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stock<span class="token punctuation">.</span>append<span class="token punctuation">(</span>fruit<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">montre_panier</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stock<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">supprime</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stock<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>fruit<span class="token punctuation">)</span>
        
</code></pre>
<h3>Programme principal</h3>
<p>Fichier <code class="fichier">main.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> panier <span class="token keyword">import</span> Panier

panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"poire"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

panier<span class="token punctuation">.</span>supprime<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre>
<h3>Tests</h3>
<p>Fichier <code class="fichier">test_panier.py</code> :</p>
<pre class="language-python " style="counter-reset: linenumber 0"><code class="language-python"><span class="token keyword">from</span> panier <span class="token keyword">import</span> Panier


<span class="token keyword">def</span> <span class="token function">test_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> panier <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span>


<span class="token keyword">def</span> <span class="token function">test_montre_panier_vide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">test_ajoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">,</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">test_supprime_dans_panier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    panier <span class="token operator">=</span> Panier<span class="token punctuation">(</span><span class="token punctuation">)</span>
    panier<span class="token punctuation">.</span>ajoute<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>
    panier<span class="token punctuation">.</span>supprime<span class="token punctuation">(</span><span class="token string">"pomme"</span><span class="token punctuation">)</span>

    <span class="token keyword">assert</span> panier<span class="token punctuation">.</span>montre_panier<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>


</article>

    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique à l'école centrale Marseille
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>